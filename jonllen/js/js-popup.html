
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>摆脱JQuery—之自定义模拟弹窗层功能。 - JavaScript - 金龙博客</title>
<meta name="description" content="这个模式弹窗是我结合Jquery写的，因为有时候用Jquery的时候会造成和其他脚本有冲突。。。感觉Jquery的有些插件也不能都满足所有的需求，有些Bug不好怎么去解决；我写的也还有很多BUG，但是自己写的的也好去修复它，功能如下: 
同样支持窗体缩放大小时自动居中对齐(IE下必须很秀气的resize才能正确触发)；
支持同时打开对个窗体，并能响应Esc事件和点击遮掩层进行关闭弹窗；还有很对功能待完善，目前已经加入了拖拽和缩放大小的功能，默认是false不拖拽的,在init里面可以设置drag:true以让元素可拖拽,拖拽的代码是我之前在51js上看到别人贴的,很简洁所以就直接拿过来用了..." />
<link href="/styles/index/css/default/index.css" id="linkIndex" rel="stylesheet" type="text/css" />
<link href="/styles/index/css/default/template2.css" id="linkTemplate" rel="stylesheet" type="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script type="text/javascript" src="/styles/index/scripts/ajax.js"></script>
</head>
<body>
<div id="toolbar">
	<div class="auto fixft" >
	    <a href="/" class="home"><span>首页</span><img alt="logo" src="/styles/index/css/default/images/logo_small.gif" /></a>
		
		<!--<form id="loginFrom" name="loginFrom" onsubmit="return loginEncrypt();" action="/User/Login.aspx"  method="post" target="loginIfr">
		    <input type="hidden" id="hdEncrypted" name="hdEncrypted" value="" />
		    <div class="login">
			    <span class="ico">用户名：</span>
			    <input id="username" name="username" onfocus="loadEncryptScript()" class="text" type="text" />
			    密码：<input id="password" name="password" onfocus="loadEncryptScript()" class="text" type="password" />
			    <input id="btnLogin" class="btn" type="submit" value="登录" />
			    
			    <a href="#" onclick="location='https://localhost/Passport';" >安全登录</a>
			    
		    </div>
		</form>
		<iframe id="loginIfr" name="loginIfr" scrolling="no" frameborder="0" width="0" height="0"></iframe>
        <script type="text/javascript">
            function loadEncryptScript(){
                if( typeof(encryptScript) == 'undefined') {
                    
                    document.getElementById('btnLogin').disabled = true;
                    
                    encryptScript = document.createElement('script');
                    encryptScript.type = 'text/javascript';
                    encryptScript.src = '/Ajax/RSAEncrypt.aspx?callback=loadEncryptScriptCallback';
                    var currScriptElem = document.getElementsByTagName('script')[0];
                    currScriptElem.parentNode.insertBefore(encryptScript, currScriptElem);
                }
            }
            function loadEncryptScriptCallback(){
                document.getElementById('btnLogin').disabled = false;
            }
            function loginEncrypt(){
                
                var pwdElem = document.getElementById('password');
                var encryptedPassword = RSAEncrypt(pwdElem.value);
                pwdElem.value = encryptedPassword;
                document.getElementById('hdEncrypted').value = 'RSA';
                return true;
            }
        </script>-->
		
		<div class="skin">
			<ul id="skinlist">
			    <li class="first">　切换风格：</li>
			    <li id="temp2" class="on"><a class="green" href="javascript:toggleTemplate(2, '/styles/index/css/default/index.css', false);"  title="切换风格：大自然绿">大自然绿</a></li><li id="temp3" class=""><a class="blue" href="javascript:toggleTemplate(3, '/styles/index/css/blue/index.css', false);"  title="切换风格：深蓝海">深蓝海</a></li><li id="temp4" class=""><a class="red" href="javascript:toggleTemplate(4, '/styles/index/css/guoqing/index.css', false);"  title="切换风格：国庆专题">国庆专题</a></li><li id="temp6" class=""><a class="christmas" href="javascript:toggleTemplate(6, '/styles/index/css/christmas/index.css', false);"  title="切换风格：圣诞节">圣诞节</a></li><li id="temp7" class=""><a class="simple" href="javascript:toggleTemplate(7, '/styles/index/css/simple/index.css', false);"  title="切换风格：简单线条">简单线条</a></li>
			</ul>
		</div>
		<div class="display">
		    <ul>
		        <li>　<!--版面：--></li>
		        <!--<li><a href="#" onclick="location='?display=1';" class="">左-中</a> | </li>
		        <li><a href="#" onclick="location='?display=2';" class="on">左-中-右</a> | </li>
		        <li><a href="#" onclick="location='?display=3';" class="">中-右</a> | </li>
		        <li><a href="#" onclick="location='?display=4';" class="">中</a></li>-->
		    </ul>
		</div>
	</div>
</div>
<div class="auto" id="top" style="" >
	<div class="title">
	    <h3>jonllen</h3>
	    <h4>金龙，目前就职于一家软件公司，从事Java和.Net信息安全开发设计。
</h4>
	</div>
</div>
<div class="auto" id="nav" >
	<ul id="navigation">
		<li><a href="/">首页</a></li>
        <li><a href="/jonllen/aspnet/" class="up" >Asp.Net</a></li>
<li><a href="/jonllen/work/"  >工作</a></li>
		<li><a class="up" href="/album/">相册</a></li>
		<li><a href="/leave/"><!--留言--></a></li>
		<li class="preview"></li>
	</ul>
</div>
<script type="text/javascript"> 
(function (){
    var select, navlist = document.getElementById('navigation').getElementsByTagName('li');
    for(var i=0;i<navlist.length;i++)
    {
        if ( navlist[i].className=='preview') continue;
        var link = navlist[i].getElementsByTagName('a')[0];
        if ( link && window.location.href.toLowerCase().indexOf(link.href.toLowerCase())>-1 )
        {
            select = link;
        }
    }
    if( select!=undefined )
    {
        select.parentNode.className = "on";
    }
})();
function toggleTemplate(tempId, skinSrc, additionalHtml){
    if( additionalHtml) {
        location='?tempid='+tempId;
        return true;
    }
    
    var linkIndexElem = document.getElementById('linkIndex');
    var linkIndexHref = '' + skinSrc;
    linkIndexElem.href = '';
    linkIndexElem.href = linkIndexHref;
    
    var linkTemplateElem = document.getElementById('linkTemplate');
    var linkTemplateHref = linkIndexHref.substr(0, linkIndexHref.lastIndexOf('/') ) + linkTemplateElem.href.substr(linkTemplateElem.href.lastIndexOf('/'));
    linkTemplateElem.href = '';
    linkTemplateElem.href = linkTemplateHref;
    
    var skinName = 'Skin';
    var skinValue = '0='+tempId;
    var skinDate = new Date();
    skinDate.setTime(skinDate.getTime() + 1000 * 60 * 120 );
    document.cookie = skinName + '=' + skinValue + '; path=/; expires=' + skinDate.toGMTString();
    
    var templatelist = document.getElementById('skinlist').getElementsByTagName('li');
    for(var i=0;i<templatelist.length;i++){
        var templateli = templatelist[i];
        if (templateli.className == 'on')
            templateli.className = '';
        if( templateli.id == 'temp' + tempId)
            templateli.className = 'on';
    }
}
</script>

<div id="main" class="auto container">
    <div id="ctl00_panLeft" class="siderLeft column column1">
	
<div id="mod25" class="mod info">
	<div class="head"><strong class="ico">个人档案</strong></div>
	<div class="cont">
		<dl>
			<dt><a href="/jonllen/"><img src="/upload/jonllen/upload/wolf.gif" defaultsrc="/styles/index/css/default/images/ico_default.gif" onerror="if(this.src.indexOf(this.getAttribute('defaultsrc'))==-1) this.src=this.getAttribute('defaultsrc');" /><br />jonllen</a></dt>
			<dd><a href="/breast/" class="profile">心情闪存</a> | <a href="/leave/" class="article">给他留言</a></dd>
			<!--<dd><a href="/rss.aspx" target="_blank" class="rss">RSS网志</a> | <a href="/profile.aspx" class="">个人档案</a></dd>-->
			<dd>妮称：jonllen</dd>
			<dd>来自：中国. 湖南. 湘潭</dd>
			<dd>简述：金龙，目前就职于一家软件公司，从事Java和.Net信息安全开发设计。
</dd>
		</dl>
	</div>
</div>
<div id="mod26" class="mod calendar">
	<div class="head"><strong class="ico">博客日历</strong></div>
	<div id="calendar" class="cont"></div>
	<script type="text/javascript" language="javascript" src="/styles/index/scripts/DatePicker/WdatePicker.js" ></script>
    <script type="text/javascript" language="javascript">
        function ePicked(dp)
        {
            for(var i=0;i<archive.length;i++)
            {
                //if(archive[i]==dp.cal.getDateStr())
                    //window.location = '/archive/' + dp.cal.getDateStr() + '.aspx';
            }
        }
        
            function getArticleArchive()
		    {
		        var url = "/plugin/web/getArticleArchive.do?coluidpath=500&colutype=1";		        		        
		        Ajax.send({
		            type : "GET",
		            url : url,
		            fn : function (data){
	                    var rs;
	                    try{rs=eval("rs="+data);}catch(e){alert(e);return;}
                        
	                    if (rs.success)
	                    {
	                        var archive = [];
	                        if(rs.data) archive = rs.data.split(',');
	                        window.archive = archive;
	                        WdatePicker( { eCont :'calendar', firstDayOfWeek :1, specialDates :archive.length > 0 ? archive : null, onpicked :ePicked, startDate:'2009-07-08' } );
 	                    }else
	                    {
	                        alert(rs.error);
	                    }
                            }
		        });
		    }
        setTimeout(getArticleArchive,0);
    </script>
</div>
<div id="mod27" class="mod category">
	<div class="head"><strong class="ico">分类文档</strong></div>
	<div class="cont">
		<ul>

			
			        <li>
			            
			            <a href="/jonllen/reflection/" >
			                三日必省吾身<!-- (0)-->
			            </a>
			        </li>
			
			        <li>
			            
			            <a href="/jonllen/remark/" >
			                备忘录<!-- (0)-->
			            </a>
			        </li>
			
			        <li>
			            
			            <a href="/jonllen/it/" >
			                业界<!-- (0)-->
			            </a>
			        </li>
			
			        <li>
			            
			            <a href="/jonllen/css/" >
			                CSS<!-- (0)-->
			            </a>
			        </li>
			
			        <li>
			            
			            <a href="/jonllen/flex/" >
			                Flex<!-- (0)-->
			            </a>
			        </li>
			
			        <li>
			            
			            <a href="/jonllen/db/" >
			                数据库<!-- (0)-->
			            </a>
			        </li>
			
			        <li>
			            
			            <a href="/jonllen/java/" >
			                Java<!-- (0)-->
			            </a>
			        </li>
			
			        <li>
			            
			            <a href="/jonllen/work/" >
			                工作<!-- (0)-->
			            </a>
			        </li>
			
			        <li>
			            
			            <a href="/jonllen/breast/" >
			                心情笔记<!-- (0)-->
			            </a>
			        </li>
			
			        <li>
			            
			            <a href="/jonllen/aspnet/" >
			                Asp.Net<!-- (0)-->
			            </a>
			        </li>
			
			        <li>
			            
			            <a href="/jonllen/js/" >
			                JavaScript<!-- (0)-->
			            </a>
			        </li>
			
			        <li>
			            
			            <a href="/jonllen/album/" >
			                我的相册<!-- (0)-->
			            </a>
			        </li>
			
			        <li>
			            
			            <a href="/jonllen/travel/" >
			                旅游<!-- (0)-->
			            </a>
			        </li>
			
		</ul>
	</div>
</div>
 
<!--<div id="mod28" class="mod links">
	<div class="head"><strong class="ico">友情链接</strong></div>
	<div class="cont">
		<ul>
                    
		    <li><a href="http://www.applezqp.com" title="老平同志，高妹。" target="_blank">applezqp</a></li>
                    
		    <li><a href="http://www.thjy.org" title="天河部落教育博客" target="_blank">天河部落</a></li>
                    
		    <li><a href="http://weibo.com/zjj" title="时代财富张静君的微博" target="_blank">张静君</a></li>
                    
		    <li><a href="http://www.fortuneage.com" title="广州网站建设" target="_blank">时代财富</a></li>
                    
		</ul>
	</div>
</div>-->
 
</div>

	<div class="siderMiddle">
	    <div class="content column column2">
            

    <div class="articlecont">
        <div class="position">
		    <strong>当前位置：</strong>
		    <a href="http://localhost:8080">首页</a>
		     > <a href="/jonllen/js/">JavaScript</a>
		     > <a href="/jonllen/js/js-popup.html">摆脱JQuery—之自定义模拟弹窗层功能。</a>
		</div>
        <div class="article">
			<div class="title"><h2>摆脱JQuery—之自定义模拟弹窗层功能。</h2></div>
			<div class="category">分类：<a href="/jonllen/js/">JavaScript</a></div>
			<div class="fontZoom"><a href="javascript:zoom(20);" style="font-size:large; font-weight:700">大</a><a href="javascript:zoom(14);" style="font-size:14px; font-weight:500;">中</a><a href="javascript:zoom(10);">小</a></div>
			<div class="cont" id="content">
				<div class="popup" style="font-size: 16px; line-height: 30px;">
<p style="text-indent: 2em;">js实现模拟弹层，效果图如下：</p>
<p><a href="/upload/jonllen/article/js-popups.jpg" target="_blank"><img src="/upload/jonllen/article/js-popups.jpg" alt="js-popups" width="494" /></a></p>
<div style="margin: 10px auto; padding-left: 50px;"><input type="button" value="打开购物车弹窗" onclick="Popup.getInstanceById('popupCart').open()" /> <input type="button" value="关闭当前" onclick="Popup.close()" /> <input type="button" value="Alert Popup MaxZindex" onclick="alert(Popup.maxZindex)" /></div>
<div style="display: none; width: 490px; padding: 0px;"><textarea style="width: 480px; height: 100px;" rows="2" cols="20"></textarea><input type="button" value="Eval JavaScrtipt" onclick="eval(this.previousSibling.value);" /></div>
<div class="popup-container" id="popupCart">
<div class="popup-titlebar"><a href="javascript:Popup.getInstanceById('popupCart').close();" class="close" id="closeCart" title="关闭购物车">&nbsp;</a> <span class="title">购物车|Cart</span></div>
<div class="popup-content" style="margin: 0;"><ol>
<li>这个模式弹窗是我结合Jquery写的，因为有时候用Jquery的时候会造成和其他脚本有冲突。。。</li>
<li>感觉Jquery的有些插件也不能都满足所有的需求，有些Bug不好怎么去解决；</li>
<li>我自己写的也还有很多BUG，但是自己写的的也好去修复它，功能如下: <br />
<ul>
<li>同样支持窗体缩放大小时自动居中对齐(IE下必须很秀气的resize才能正确触发)；</li>
<li>支持同时打开多个窗体，并能响应Esc事件和点击遮掩层进行关闭弹窗；</li>
<li>还有很对功能待完善，目前已经加入了拖拽和缩放大小的功能，默认是false不拖拽的,在init里面可以设置drag:true以让元素可拖拽,拖拽的代码是我之前在51js上看到别人贴的,很简洁所以就直接拿过来用了,但是ie内还是有些拖拽的Bug需要修复。</li>
<li><input type="button" value="再打开个新的" onclick="openAgain()" /></li>
</ul>
</li>
</ol></div>
</div>
<style><!--
 		.popup-overlay{background-color:#000000; filter: alpha(opacity=20);opacity:.2;top:0; right:0; bottom:0; left:0; margin:0; padding:0;}
		.popup-overlay-again{background-color:#000000; filter: alpha(opacity=50);opacity:.5;top:0; right:0; bottom:0; left:0; margin:0; padding:0;}
 		.popup-container{ width:500px;background-color:#FFFFFF;overflow:hidden; }
 		.popup-container .popup-titlebar{height:30px;background:url(/upload/jonllen/article/a_popup_titlebg.gif) repeat-x;cursor:move;}
 		.popup-container .popup-titlebar .title{font-weight:700; line-height:30px; color:#FFFFFF; margin-left:5px;background:none}
 		.popup-container .popup-titlebar .close{ float:right; text-decoration:none; margin-top:5px; margin-right:3px; background:url(/upload/jonllen/article/a_popup_topclose.gif) no-repeat; width:47px; height:11px;}
 		.popup-container .popup-titlebar .close:hover{background:url(/upload/jonllen/article/a_popup_topclose-hover.gif) no-repeat;}
 		.popup-container .popup-content{border:solid 1px #1b3674; padding-bottom:10px;margin:0;overflow:hidden;}
.popup-container .popup-resize{ text-align:right;margin-top:-30px; height:30px; line-height:0;overflow:hidden;}
	    .popup-container .popup-resize div{ width:30px;line-height:30px; background:url(/upload/jonllen/article/a_popup_resize.gif) 23px 22px no-repeat;float:right;text-indent:100px;overflow:hidden;cursor:se-resize;}
--></style>
<script type="text/javascript" src="/scripts/popup.js"></script>
<script type="text/javascript">// <![CDATA[
		window.onload = function (){
			Popup.init( {
				target: document.getElementById('popupCart'),
				autoOpen : true,
				drag : true,
				resize : true,createOverlay : true
			} );
		}		
		function openAgain(){
			Popup.init( {
				target: Popup.create('again-container','Popup Again','popupAgain',460),
				autoOpen : true,
				drag : true,createOverlay : true,autoLayout : false
			} );
		}
// ]]></script>
<br />
<div id="popupAgain" style="width: 450px; height: 200px; border: #ccc 1px solid;"><input type="button" value="Close New Popup" style="float: right;" title="关闭当前" onclick="Popup.getInstanceById('popupAgain').close()" />
<div style="line-height: 200px; text-align: center; color: green;"><a href="javascript:Popup.init({target:Popup.create('google-container','Google','http://g.cn',508,330),drag:true,resize:true,autoOpen : true,createOverlay : true,autoLayout : false});">Create Google Iframe Popup.</a></div>
</div>
<p style="text-indent: 2em;">最新源代码如下：</p>
<pre><div class="code"><div class="codetitle"><img title="展开" src="/codehighlighter/outliningIndicators/ContractedBlock.gif" onclick="this.src=this.title=='展开'?'/codehighlighter/outliningIndicators/ExpandedBlockStart.gif':'/codehighlighter/outliningIndicators/ContractedBlock.gif'; document.getElementById('HighlighterCode_634026406063281250').style.display=this.title=='展开'?'block':'none'; this.title=this.title=='展开'?'收缩':'展开'; " /><span>Popup静态类</span></div><div class="codemain" id="HighlighterCode_634026406063281250" style="display: none;"><div><!--<br /><br />Code highlighting produced by Actipro CodeHighlighter (freeware)<br />http://www.CodeHighlighter.com/<br /><br />--><span style="color: #008080;">  1</span><img src="/codehighlighter/outliningIndicators/ExpandedBlockStart.gif" id="CodeHighlighter1_0_127_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_0_127_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_0_127_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_0_127_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedBlock.gif" style="display: none;" id="CodeHighlighter1_0_127_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_0_127_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_0_127_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_0_127_Open_Text').style.display='inline';" /><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_0_127_Closed_Text">/**/</span><span id="CodeHighlighter1_0_127_Open_Text"><span style="color: #008000;">/*</span><span style="color: #008000;"><br /></span><span style="color: #008080;">  2</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />** Version: Popup1.1<br /></span><span style="color: #008080;">  3</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />** Author : Jonllen<br /></span><span style="color: #008080;">  4</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />** Create : 2009-05-17<br /></span><span style="color: #008080;">  5</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />** Update : 2010-01-14<br /></span><span style="color: #008080;">  6</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />** WebSite: http://www.jonllen.com<br /></span><span style="color: #008080;">  7</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/ExpandedBlockEnd.gif" /></span><span style="color: #008000;">*/</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">  8</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedBlockStart.gif" id="CodeHighlighter1_140_16669_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_140_16669_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_140_16669_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_140_16669_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedBlock.gif" style="display: none;" id="CodeHighlighter1_140_16669_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_140_16669_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_140_16669_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_140_16669_Open_Text').style.display='inline';" /></span><span style="color: #0000ff;">var</span><span style="color: #000000;"> Popup </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_140_16669_Closed_Text">...</span><span id="CodeHighlighter1_140_16669_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">  9</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />    maxZindex : </span><span style="color: #000000;">1000</span><span style="color: #000000;">,<br /></span><span style="color: #008080;"> 10</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />    list : </span><span style="color: #0000ff;">new</span><span style="color: #000000;"> Array(),<br /></span><span style="color: #008080;"> 11</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />    current : </span><span style="color: #0000ff;">null</span><span style="color: #000000;">,<br /></span><span style="color: #008080;"> 12</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_211_561_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_211_561_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_211_561_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_211_561_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_211_561_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_211_561_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_211_561_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_211_561_Open_Text').style.display='inline';" />    settings : </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_211_561_Closed_Text">...</span><span id="CodeHighlighter1_211_561_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;"> 13</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        target : </span><span style="color: #0000ff;">null</span><span style="color: #000000;">,<br /></span><span style="color: #008080;"> 14</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        autoOpen : </span><span style="color: #0000ff;">false</span><span style="color: #000000;">,<br /></span><span style="color: #008080;"> 15</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        createOverlay : </span><span style="color: #0000ff;">false</span><span style="color: #000000;">,<br /></span><span style="color: #008080;"> 16</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        overlay : undefined,<br /></span><span style="color: #008080;"> 17</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        overlayClass : </span><span style="color: #000000;">"</span><span style="color: #000000;">popup-overlay</span><span style="color: #000000;">"</span><span style="color: #000000;">,<br /></span><span style="color: #008080;"> 18</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        openButton : undefined,<br /></span><span style="color: #008080;"> 19</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        closeButton : undefined,<br /></span><span style="color: #008080;"> 20</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        isOpen : </span><span style="color: #0000ff;">false</span><span style="color: #000000;">,<br /></span><span style="color: #008080;"> 21</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        drag : </span><span style="color: #0000ff;">false</span><span style="color: #000000;">,<br /></span><span style="color: #008080;"> 22</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        resize : </span><span style="color: #0000ff;">false</span><span style="color: #000000;">,<br /></span><span style="color: #008080;"> 23</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        autoLayout : </span><span style="color: #0000ff;">true</span><span style="color: #000000;">,<br /></span><span style="color: #008080;"> 24</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        listenEsc : </span><span style="color: #0000ff;">true</span><span style="color: #000000;">,<br /></span><span style="color: #008080;"> 25</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        align : </span><span style="color: #000000;">'</span><span style="color: #000000;">center</span><span style="color: #000000;">'</span><span style="color: #000000;">,<br /></span><span style="color: #008080;"> 26</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        vertical : </span><span style="color: #000000;">'</span><span style="color: #000000;">middle</span><span style="color: #000000;">'</span><span style="color: #000000;">,<br /></span><span style="color: #008080;"> 27</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        alignSlant : </span><span style="color: #000000;">0</span><span style="color: #000000;">,<br /></span><span style="color: #008080;"> 28</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        verticalSlant : </span><span style="color: #000000;">0</span><span style="color: #000000;"><br /></span><span style="color: #008080;"> 29</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />    }</span></span><span style="color: #000000;">,<br /></span><span style="color: #008080;"> 30</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_590_1603_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_590_1603_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_590_1603_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_590_1603_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_590_1603_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_590_1603_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_590_1603_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_590_1603_Open_Text').style.display='inline';" />    init: </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> (settings) </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_590_1603_Closed_Text">...</span><span id="CodeHighlighter1_590_1603_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;"> 31</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        <br /></span><span style="color: #008080;"> 32</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> isExist </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">false</span><span style="color: #000000;">;<br /></span><span style="color: #008080;"> 33</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">for</span><span style="color: #000000;"> (</span><span style="color: #0000ff;">var</span><span style="color: #000000;"> i</span><span style="color: #000000;">=</span><span style="color: #000000;">0</span><span style="color: #000000;">;i</span><span style="color: #000000;">&lt;</span><span style="color: #0000ff;">this</span><span style="color: #000000;">.list.length;i</span><span style="color: #000000;">++</span><span style="color: #000000;">)<br /></span><span style="color: #008080;"> 34</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_659_783_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_659_783_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_659_783_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_659_783_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_659_783_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_659_783_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_659_783_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_659_783_Open_Text').style.display='inline';" />        </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_659_783_Closed_Text">...</span><span id="CodeHighlighter1_659_783_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;"> 35</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (</span><span style="color: #0000ff;">this</span><span style="color: #000000;">.list[i].target</span><span style="color: #000000;">==</span><span style="color: #000000;">settings.target)<br /></span><span style="color: #008080;"> 36</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_709_779_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_709_779_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_709_779_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_709_779_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_709_779_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_709_779_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_709_779_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_709_779_Open_Text').style.display='inline';" />            </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_709_779_Closed_Text">...</span><span id="CodeHighlighter1_709_779_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;"> 37</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                isExist </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">true</span><span style="color: #000000;">;<br /></span><span style="color: #008080;"> 38</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.current </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.list[i];<br /></span><span style="color: #008080;"> 39</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;<br /></span><span style="color: #008080;"> 40</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />            }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;"> 41</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;"> 42</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (</span><span style="color: #000000;">!</span><span style="color: #000000;">isExist)<br /></span><span style="color: #008080;"> 43</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_802_1548_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_802_1548_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_802_1548_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_802_1548_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_802_1548_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_802_1548_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_802_1548_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_802_1548_Open_Text').style.display='inline';" />        </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_802_1548_Closed_Text">...</span><span id="CodeHighlighter1_802_1548_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;"> 44</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            settings.target </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.$(settings.target);<br /></span><span style="color: #008080;"> 45</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            settings.closeButton </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.$(settings.closeButton);<br /></span><span style="color: #008080;"> 46</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">if</span><span style="color: #000000;">(settings.target.id</span><span style="color: #000000;">==</span><span style="color: #000000;">''</span><span style="color: #000000;">)<br /></span><span style="color: #008080;"> 47</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_951_1023_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_951_1023_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_951_1023_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_951_1023_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_951_1023_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_951_1023_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_951_1023_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_951_1023_Open_Text').style.display='inline';" />            </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_951_1023_Closed_Text">...</span><span id="CodeHighlighter1_951_1023_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;"> 48</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                settings.target.id </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">popup_ad_</span><span style="color: #000000;">'</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.list.length;<br /></span><span style="color: #008080;"> 49</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />            }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;"> 50</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">for</span><span style="color: #000000;">(p </span><span style="color: #0000ff;">in</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.settings)<br /></span><span style="color: #008080;"> 51</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_1066_1164_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_1066_1164_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_1066_1164_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_1066_1164_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_1066_1164_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_1066_1164_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_1066_1164_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_1066_1164_Open_Text').style.display='inline';" />            </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_1066_1164_Closed_Text">...</span><span id="CodeHighlighter1_1066_1164_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;"> 52</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> ( </span><span style="color: #000000;">!</span><span style="color: #000000;">settings.hasOwnProperty(p) ) settings[p] </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.settings[p];<br /></span><span style="color: #008080;"> 53</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />            }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;"> 54</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (settings.closeButton)<br /></span><span style="color: #008080;"> 55</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_1209_1326_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_1209_1326_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_1209_1326_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_1209_1326_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_1209_1326_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_1209_1326_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_1209_1326_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_1209_1326_Open_Text').style.display='inline';" />            </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_1209_1326_Closed_Text">...</span><span id="CodeHighlighter1_1209_1326_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;"> 56</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_1263_1317_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_1263_1317_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_1263_1317_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_1263_1317_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_1263_1317_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_1263_1317_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_1263_1317_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_1263_1317_Open_Text').style.display='inline';" />                settings.closeButton.onclick </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> ()</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_1263_1317_Closed_Text">...</span><span id="CodeHighlighter1_1263_1317_Open_Text"><span style="color: #000000;">{ Popup.getInstanceById(settings.target.id).close(); }</span></span><span style="color: #000000;">;<br /></span><span style="color: #008080;"> 57</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />            }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;"> 58</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (settings.openButton)<br /></span><span style="color: #008080;"> 59</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_1364_1487_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_1364_1487_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_1364_1487_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_1364_1487_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_1364_1487_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_1364_1487_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_1364_1487_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_1364_1487_Open_Text').style.display='inline';" />            </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_1364_1487_Closed_Text">...</span><span id="CodeHighlighter1_1364_1487_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;"> 60</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_1425_1478_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_1425_1478_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_1425_1478_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_1425_1478_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_1425_1478_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_1425_1478_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_1425_1478_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_1425_1478_Open_Text').style.display='inline';" />                </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.$(settings.openButton).onclick </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> ()</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_1425_1478_Closed_Text">...</span><span id="CodeHighlighter1_1425_1478_Open_Text"><span style="color: #000000;">{ Popup.getInstanceById(settings.target.id).open(); }</span></span><span style="color: #000000;">;<br /></span><span style="color: #008080;"> 61</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />            }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;"> 62</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.list.push(settings);<br /></span><span style="color: #008080;"> 63</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.current </span><span style="color: #000000;">=</span><span style="color: #000000;"> settings;<br /></span><span style="color: #008080;"> 64</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;"> 65</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (settings.autoOpen)<br /></span><span style="color: #008080;"> 66</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_1576_1600_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_1576_1600_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_1576_1600_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_1576_1600_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_1576_1600_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_1576_1600_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_1576_1600_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_1576_1600_Open_Text').style.display='inline';" />        </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_1576_1600_Closed_Text">...</span><span id="CodeHighlighter1_1576_1600_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;"> 67</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.open();<br /></span><span style="color: #008080;"> 68</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;"> 69</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />    }</span></span><span style="color: #000000;">,<br /></span><span style="color: #008080;"> 70</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_1638_1806_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_1638_1806_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_1638_1806_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_1638_1806_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_1638_1806_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_1638_1806_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_1638_1806_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_1638_1806_Open_Text').style.display='inline';" />    getInstanceById : </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> (id) </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_1638_1806_Closed_Text">...</span><span id="CodeHighlighter1_1638_1806_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;"> 71</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">var</span><span style="color: #000000;"> i</span><span style="color: #000000;">=</span><span style="color: #000000;">0</span><span style="color: #000000;">;i</span><span style="color: #000000;">&lt;</span><span style="color: #0000ff;">this</span><span style="color: #000000;">.list.length;i</span><span style="color: #000000;">++</span><span style="color: #000000;">)<br /></span><span style="color: #008080;"> 72</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_1680_1788_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_1680_1788_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_1680_1788_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_1680_1788_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_1680_1788_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_1680_1788_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_1680_1788_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_1680_1788_Open_Text').style.display='inline';" />        </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_1680_1788_Closed_Text">...</span><span id="CodeHighlighter1_1680_1788_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;"> 73</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> current </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.list[i];<br /></span><span style="color: #008080;"> 74</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> ( current.target.id </span><span style="color: #000000;">==</span><span style="color: #000000;"> id )<br /></span><span style="color: #008080;"> 75</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_1750_1784_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_1750_1784_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_1750_1784_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_1750_1784_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_1750_1784_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_1750_1784_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_1750_1784_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_1750_1784_Open_Text').style.display='inline';" />            </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_1750_1784_Closed_Text">...</span><span id="CodeHighlighter1_1750_1784_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;"> 76</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.current </span><span style="color: #000000;">=</span><span style="color: #000000;"> current;<br /></span><span style="color: #008080;"> 77</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />            }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;"> 78</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;"> 79</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">;<br /></span><span style="color: #008080;"> 80</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />    }</span></span><span style="color: #000000;">,<br /></span><span style="color: #008080;"> 81</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_1830_2547_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_1830_2547_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_1830_2547_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_1830_2547_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_1830_2547_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_1830_2547_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_1830_2547_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_1830_2547_Open_Text').style.display='inline';" />    overlay : </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> ()</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_1830_2547_Closed_Text">...</span><span id="CodeHighlighter1_1830_2547_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;"> 82</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> overlay </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.current.overlay;<br /></span><span style="color: #008080;"> 83</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;">(overlay</span><span style="color: #000000;">==</span><span style="color: #000000;">undefined)<br /></span><span style="color: #008080;"> 84</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_1897_2403_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_1897_2403_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_1897_2403_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_1897_2403_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_1897_2403_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_1897_2403_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_1897_2403_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_1897_2403_Open_Text').style.display='inline';" />        </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_1897_2403_Closed_Text">...</span><span id="CodeHighlighter1_1897_2403_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;"> 85</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            overlay </span><span style="color: #000000;">=</span><span style="color: #000000;"> document.createElement(</span><span style="color: #000000;">"</span><span style="color: #000000;">div</span><span style="color: #000000;">"</span><span style="color: #000000;">);<br /></span><span style="color: #008080;"> 86</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            overlay.title </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">"</span><span style="color: #000000;">点击层关闭</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /></span><span style="color: #008080;"> 87</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            overlay.className </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.current.overlayClass </span><span style="color: #000000;">?</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.current.overlayClass : </span><span style="color: #000000;">"</span><span style="color: #000000;">popup-overlay</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /></span><span style="color: #008080;"> 88</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            overlay.style.top </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">0</span><span style="color: #000000;">;<br /></span><span style="color: #008080;"> 89</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            overlay.style.left </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">0</span><span style="color: #000000;">;<br /></span><span style="color: #008080;"> 90</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            overlay.style.position </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">"</span><span style="color: #000000;">absolute</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /></span><span style="color: #008080;"> 91</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            overlay.style.zIndex </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">++</span><span style="color: #0000ff;">this</span><span style="color: #000000;">.maxZindex;<br /></span><span style="color: #008080;"> 92</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> currentId </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.current.target.id;<br /></span><span style="color: #008080;"> 93</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_2285_2330_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_2285_2330_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_2285_2330_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_2285_2330_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_2285_2330_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_2285_2330_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_2285_2330_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_2285_2330_Open_Text').style.display='inline';" />            overlay.onclick </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> ()</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_2285_2330_Closed_Text">...</span><span id="CodeHighlighter1_2285_2330_Open_Text"><span style="color: #000000;">{ Popup.getInstanceById(currentId).close(); }</span></span><span style="color: #000000;">;<br /></span><span style="color: #008080;"> 94</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            document.body.insertBefore(overlay,document.body.childNodes[</span><span style="color: #000000;">0</span><span style="color: #000000;">]);<br /></span><span style="color: #008080;"> 95</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;"> 96</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        overlay.style.width </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.width()</span><span style="color: #000000;">+</span><span style="color: #000000;">"</span><span style="color: #000000;">px</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /></span><span style="color: #008080;"> 97</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        overlay.style.height </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.height()</span><span style="color: #000000;">+</span><span style="color: #000000;">"</span><span style="color: #000000;">px</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /></span><span style="color: #008080;"> 98</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        overlay.style.display </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">"</span><span style="color: #000000;">block</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /></span><span style="color: #008080;"> 99</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> overlay;<br /></span><span style="color: #008080;">100</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />    }</span></span><span style="color: #000000;">,<br /></span><span style="color: #008080;">101</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_2568_5917_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_2568_5917_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_2568_5917_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_2568_5917_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_2568_5917_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_2568_5917_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_2568_5917_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_2568_5917_Open_Text').style.display='inline';" />    open : </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> ()</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_2568_5917_Closed_Text">...</span><span id="CodeHighlighter1_2568_5917_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">102</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />    <br /></span><span style="color: #008080;">103</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> self </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">104</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> target </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.current.target;<br /></span><span style="color: #008080;">105</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        <br /></span><span style="color: #008080;">106</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;">( target.parentNode </span><span style="color: #000000;">!=</span><span style="color: #000000;"> document.body )<br /></span><span style="color: #008080;">107</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_2675_2798_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_2675_2798_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_2675_2798_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_2675_2798_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_2675_2798_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_2675_2798_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_2675_2798_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_2675_2798_Open_Text').style.display='inline';" />        </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_2675_2798_Closed_Text">...</span><span id="CodeHighlighter1_2675_2798_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">108</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #008000;">//</span><span style="color: #008000;">移动target位置，使之与overlay同级以修复ie的z-index问题</span><span style="color: #008000;"><br /></span><span style="color: #008080;">109</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /></span><span style="color: #000000;">            document.body.insertBefore(target, document.body.childNodes[</span><span style="color: #000000;">0</span><span style="color: #000000;">]);<br /></span><span style="color: #008080;">110</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">111</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        <br /></span><span style="color: #008080;">112</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;">( </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.current.createOverlay )<br /></span><span style="color: #008080;">113</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_2839_2995_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_2839_2995_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_2839_2995_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_2839_2995_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_2839_2995_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_2839_2995_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_2839_2995_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_2839_2995_Open_Text').style.display='inline';" />        </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_2839_2995_Closed_Text">...</span><span id="CodeHighlighter1_2839_2995_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">114</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #008000;">//</span><span style="color: #008000;">must be set overlay then target(Zindex)</span><span style="color: #008000;"><br /></span><span style="color: #008080;">115</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /></span><span style="color: #000000;">            </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.current.overlay </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.overlay();<br /></span><span style="color: #008080;">116</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #008000;">//</span><span style="color: #008000;">fix select for ie6</span><span style="color: #008000;"><br /></span><span style="color: #008080;">117</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /></span><span style="color: #000000;">            </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.toggleIframe(</span><span style="color: #0000ff;">true</span><span style="color: #000000;">);<br /></span><span style="color: #008080;">118</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">119</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        <br /></span><span style="color: #008080;">120</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #008000;">//</span><span style="color: #008000;">must be set position then Zindex</span><span style="color: #008000;"><br /></span><span style="color: #008080;">121</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /></span><span style="color: #000000;">        target.style.position </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">"</span><span style="color: #000000;">absolute</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">122</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        target.style.zIndex </span><span style="color: #000000;">=</span><span style="color: #000000;">  </span><span style="color: #000000;">++</span><span style="color: #0000ff;">this</span><span style="color: #000000;">.maxZindex;<br /></span><span style="color: #008080;">123</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        <br /></span><span style="color: #008080;">124</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        target.style.display </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">"</span><span style="color: #000000;">block</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">125</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /><br /></span><span style="color: #008080;">126</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (</span><span style="color: #0000ff;">this</span><span style="color: #000000;">.opened()</span><span style="color: #000000;">==</span><span style="color: #0000ff;">null</span><span style="color: #000000;">)<br /></span><span style="color: #008080;">127</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_3184_3459_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_3184_3459_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_3184_3459_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_3184_3459_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_3184_3459_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_3184_3459_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_3184_3459_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_3184_3459_Open_Text').style.display='inline';" />        </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_3184_3459_Closed_Text">...</span><span id="CodeHighlighter1_3184_3459_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">128</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">if</span><span style="color: #000000;">( </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.current.autoLayout </span><span style="color: #000000;">===</span><span style="color: #000000;"> </span><span style="color: #0000ff;">true</span><span style="color: #000000;"> )<br /></span><span style="color: #008080;">129</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_3234_3357_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_3234_3357_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_3234_3357_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_3234_3357_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_3234_3357_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_3234_3357_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_3234_3357_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_3234_3357_Open_Text').style.display='inline';" />            </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_3234_3357_Closed_Text">...</span><span id="CodeHighlighter1_3234_3357_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">130</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.addEvent(window,</span><span style="color: #000000;">"</span><span style="color: #000000;">scroll</span><span style="color: #000000;">"</span><span style="color: #000000;">,</span><span style="color: #0000ff;">this</span><span style="color: #000000;">.autoLayout);<br /></span><span style="color: #008080;">131</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.addEvent(window,</span><span style="color: #000000;">"</span><span style="color: #000000;">resize</span><span style="color: #000000;">"</span><span style="color: #000000;">, </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.autoLayout);<br /></span><span style="color: #008080;">132</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />            }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">133</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> ( </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.current.listenEsc </span><span style="color: #000000;">===</span><span style="color: #000000;"> </span><span style="color: #0000ff;">true</span><span style="color: #000000;">)<br /></span><span style="color: #008080;">134</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.addEvent(document,</span><span style="color: #000000;">"</span><span style="color: #000000;">keydown</span><span style="color: #000000;">"</span><span style="color: #000000;">,</span><span style="color: #0000ff;">this</span><span style="color: #000000;">.eKeydown );<br /></span><span style="color: #008080;">135</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">136</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        <br /></span><span style="color: #008080;">137</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (</span><span style="color: #0000ff;">this</span><span style="color: #000000;">.current.closeButton)<br /></span><span style="color: #008080;">138</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_3497_3542_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_3497_3542_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_3497_3542_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_3497_3542_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_3497_3542_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_3497_3542_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_3497_3542_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_3497_3542_Open_Text').style.display='inline';" />        </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_3497_3542_Closed_Text">...</span><span id="CodeHighlighter1_3497_3542_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">139</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.current.closeButton.focus();<br /></span><span style="color: #008080;">140</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">141</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        <br /></span><span style="color: #008080;">142</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.current.isOpen </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">true</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">143</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        <br /></span><span style="color: #008080;">144</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.autoLayout(</span><span style="color: #0000ff;">this</span><span style="color: #000000;">.current);<br /></span><span style="color: #008080;">145</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        <br /></span><span style="color: #008080;">146</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #008000;">//</span><span style="color: #008000;">drag</span><span style="color: #008000;"><br /></span><span style="color: #008080;">147</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /></span><span style="color: #000000;">        </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (</span><span style="color: #0000ff;">this</span><span style="color: #000000;">.current.drag </span><span style="color: #000000;">==</span><span style="color: #000000;"> </span><span style="color: #0000ff;">true</span><span style="color: #000000;"> )<br /></span><span style="color: #008080;">148</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_3660_4223_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_3660_4223_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_3660_4223_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_3660_4223_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_3660_4223_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_3660_4223_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_3660_4223_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_3660_4223_Open_Text').style.display='inline';" />        </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_3660_4223_Closed_Text">...</span><span id="CodeHighlighter1_3660_4223_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">149</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> dragHandle </span><span style="color: #000000;">=</span><span style="color: #000000;"> target;<br /></span><span style="color: #008080;">150</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> titlebar </span><span style="color: #000000;">=</span><span style="color: #000000;"> target.getElementsByTagName(</span><span style="color: #000000;">"</span><span style="color: #000000;">div</span><span style="color: #000000;">"</span><span style="color: #000000;">)[</span><span style="color: #000000;">0</span><span style="color: #000000;">];<br /></span><span style="color: #008080;">151</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">if</span><span style="color: #000000;">( </span><span style="color: #0000ff;">typeof</span><span style="color: #000000;">(titlebar) </span><span style="color: #000000;">!=</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">undefined</span><span style="color: #000000;">'</span><span style="color: #000000;"> </span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;"> titlebar.className.indexOf(</span><span style="color: #000000;">"</span><span style="color: #000000;">titlebar</span><span style="color: #000000;">"</span><span style="color: #000000;">)</span><span style="color: #000000;">&gt;-</span><span style="color: #000000;">1</span><span style="color: #000000;">)<br /></span><span style="color: #008080;">152</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_3847_3889_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_3847_3889_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_3847_3889_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_3847_3889_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_3847_3889_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_3847_3889_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_3847_3889_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_3847_3889_Open_Text').style.display='inline';" />            </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_3847_3889_Closed_Text">...</span><span id="CodeHighlighter1_3847_3889_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">153</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                dragHandle </span><span style="color: #000000;">=</span><span style="color: #000000;"> titlebar;<br /></span><span style="color: #008080;">154</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />            }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">155</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">else</span><span style="color: #000000;"> </span><span style="color: #0000ff;">if</span><span style="color: #000000;">( </span><span style="color: #0000ff;">typeof</span><span style="color: #000000;">(titlebar) </span><span style="color: #000000;">!=</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">undefined</span><span style="color: #000000;">'</span><span style="color: #000000;"> </span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;"> </span><span style="color: #0000ff;">typeof</span><span style="color: #000000;">(titlebar.getElementsByTagName(</span><span style="color: #000000;">"</span><span style="color: #000000;">div</span><span style="color: #000000;">"</span><span style="color: #000000;">)[</span><span style="color: #000000;">0</span><span style="color: #000000;">]) </span><span style="color: #000000;">!=</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">undefined</span><span style="color: #000000;">'</span><span style="color: #000000;"> )<br /></span><span style="color: #008080;">156</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_4011_4177_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_4011_4177_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_4011_4177_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_4011_4177_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_4011_4177_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_4011_4177_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_4011_4177_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_4011_4177_Open_Text').style.display='inline';" />            </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_4011_4177_Closed_Text">...</span><span id="CodeHighlighter1_4011_4177_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">157</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                titlebar </span><span style="color: #000000;">=</span><span style="color: #000000;"> titlebar.getElementsByTagName(</span><span style="color: #000000;">"</span><span style="color: #000000;">div</span><span style="color: #000000;">"</span><span style="color: #000000;">)[</span><span style="color: #000000;">0</span><span style="color: #000000;">];<br /></span><span style="color: #008080;">158</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">if</span><span style="color: #000000;">( titlebar.className.indexOf(</span><span style="color: #000000;">"</span><span style="color: #000000;">titlebar</span><span style="color: #000000;">"</span><span style="color: #000000;">)</span><span style="color: #000000;">&gt;-</span><span style="color: #000000;">1</span><span style="color: #000000;"> )<br /></span><span style="color: #008080;">159</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                    dragHandle </span><span style="color: #000000;">=</span><span style="color: #000000;"> titlebar;<br /></span><span style="color: #008080;">160</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />            }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">161</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.eDrag(target, dragHandle);<br /></span><span style="color: #008080;">162</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            <br /></span><span style="color: #008080;">163</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">164</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        <br /></span><span style="color: #008080;">165</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #008000;">//</span><span style="color: #008000;">resize</span><span style="color: #008000;"><br /></span><span style="color: #008080;">166</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /></span><span style="color: #000000;">        </span><span style="color: #0000ff;">if</span><span style="color: #000000;">( </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.current.resize </span><span style="color: #000000;">==</span><span style="color: #000000;"> </span><span style="color: #0000ff;">true</span><span style="color: #000000;">)<br /></span><span style="color: #008080;">167</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_4275_5911_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_4275_5911_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_4275_5911_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_4275_5911_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_4275_5911_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_4275_5911_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_4275_5911_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_4275_5911_Open_Text').style.display='inline';" />        </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_4275_5911_Closed_Text">...</span><span id="CodeHighlighter1_4275_5911_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">168</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> resizeHandle </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.current.target.lastChild;<br /></span><span style="color: #008080;">169</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">if</span><span style="color: #000000;">( resizeHandle.nodeType </span><span style="color: #000000;">==</span><span style="color: #000000;"> </span><span style="color: #000000;">3</span><span style="color: #000000;"> </span><span style="color: #000000;">||</span><span style="color: #000000;"> resizeHandle.className.indexOf(</span><span style="color: #000000;">'</span><span style="color: #000000;">popup-resize</span><span style="color: #000000;">'</span><span style="color: #000000;">) </span><span style="color: #000000;">==</span><span style="color: #000000;"> </span><span style="color: #000000;">-</span><span style="color: #000000;">1</span><span style="color: #000000;"> )<br /></span><span style="color: #008080;">170</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_4434_5907_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_4434_5907_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_4434_5907_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_4434_5907_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_4434_5907_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_4434_5907_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_4434_5907_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_4434_5907_Open_Text').style.display='inline';" />            </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_4434_5907_Closed_Text">...</span><span id="CodeHighlighter1_4434_5907_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">171</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_4481_4497_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_4481_4497_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_4481_4497_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_4481_4497_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_4481_4497_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_4481_4497_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_4481_4497_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_4481_4497_Open_Text').style.display='inline';" />                target.onselectstart </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> (e)</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_4481_4497_Closed_Text">...</span><span id="CodeHighlighter1_4481_4497_Open_Text"><span style="color: #000000;">{ </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">false</span><span style="color: #000000;">;}</span></span><span style="color: #000000;">;<br /></span><span style="color: #008080;">172</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                resizeHandle </span><span style="color: #000000;">=</span><span style="color: #000000;"> document.createElement(</span><span style="color: #000000;">'</span><span style="color: #000000;">div</span><span style="color: #000000;">'</span><span style="color: #000000;">);<br /></span><span style="color: #008080;">173</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                resizeHandle.className </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">popup-resize</span><span style="color: #000000;">'</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">174</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /><br /></span><span style="color: #008080;">175</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                resizeHandle.innerHTML </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">&lt;div title="点击缩放大小"&gt;▲&lt;/div&gt;</span><span style="color: #000000;">'</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">176</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.current.target.appendChild(resizeHandle);<br /></span><span style="color: #008080;">177</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.eResize(<br /></span><span style="color: #008080;">178</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                    target<br /></span><span style="color: #008080;">179</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                    , resizeHandle<br /></span><span style="color: #008080;">180</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_4857_5669_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_4857_5669_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_4857_5669_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_4857_5669_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_4857_5669_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_4857_5669_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_4857_5669_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_4857_5669_Open_Text').style.display='inline';" />                    , </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> (x, y, target ,resizeHandle)</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_4857_5669_Closed_Text">...</span><span id="CodeHighlighter1_4857_5669_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">181</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                        </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> self </span><span style="color: #000000;">=</span><span style="color: #000000;"> Popup;<br /></span><span style="color: #008080;">182</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                        target.style.width </span><span style="color: #000000;">=</span><span style="color: #000000;"> x </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">px</span><span style="color: #000000;">'</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">183</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                        target.style.height </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">auto</span><span style="color: #000000;">'</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">184</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                        </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> content </span><span style="color: #000000;">=</span><span style="color: #000000;"> target.lastChild.previousSibling;<br /></span><span style="color: #008080;">185</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_5104_5141_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_5104_5141_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_5104_5141_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_5104_5141_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_5104_5141_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_5104_5141_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_5104_5141_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_5104_5141_Open_Text').style.display='inline';" />                        </span><span style="color: #0000ff;">while</span><span style="color: #000000;">( content.nodeType </span><span style="color: #000000;">==</span><span style="color: #000000;">3</span><span style="color: #000000;">)</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_5104_5141_Closed_Text">...</span><span id="CodeHighlighter1_5104_5141_Open_Text"><span style="color: #000000;">{ content </span><span style="color: #000000;">=</span><span style="color: #000000;"> content.previousSibling;}</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">186</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                        </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> titleHeight </span><span style="color: #000000;">=</span><span style="color: #000000;"> self.objProperty(target, </span><span style="color: #000000;">'</span><span style="color: #000000;">Height</span><span style="color: #000000;">'</span><span style="color: #000000;">) </span><span style="color: #000000;">-</span><span style="color: #000000;"> self.objProperty(content, </span><span style="color: #000000;">'</span><span style="color: #000000;">Height</span><span style="color: #000000;">'</span><span style="color: #000000;">);<br /></span><span style="color: #008080;">187</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                        content.style.height </span><span style="color: #000000;">=</span><span style="color: #000000;"> y </span><span style="color: #000000;">-</span><span style="color: #000000;"> titleHeight </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">px</span><span style="color: #000000;">'</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">188</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                        </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> iframe </span><span style="color: #000000;">=</span><span style="color: #000000;"> target.getElementsByTagName(</span><span style="color: #000000;">'</span><span style="color: #000000;">iframe</span><span style="color: #000000;">'</span><span style="color: #000000;">)[</span><span style="color: #000000;">0</span><span style="color: #000000;">];<br /></span><span style="color: #008080;">189</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                        </span><span style="color: #0000ff;">if</span><span style="color: #000000;">( </span><span style="color: #0000ff;">typeof</span><span style="color: #000000;">(iframe) </span><span style="color: #000000;">!=</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">undefined</span><span style="color: #000000;">'</span><span style="color: #000000;">)<br /></span><span style="color: #008080;">190</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_5464_5653_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_5464_5653_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_5464_5653_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_5464_5653_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_5464_5653_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_5464_5653_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_5464_5653_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_5464_5653_Open_Text').style.display='inline';" />                        </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_5464_5653_Closed_Text">...</span><span id="CodeHighlighter1_5464_5653_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">191</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                            iframe.style.display </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">none</span><span style="color: #000000;">'</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">192</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                            iframe.height </span><span style="color: #000000;">=</span><span style="color: #000000;"> y </span><span style="color: #000000;">-</span><span style="color: #000000;"> titleHeight </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">px</span><span style="color: #000000;">'</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">193</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                            iframe.width </span><span style="color: #000000;">=</span><span style="color: #000000;"> x </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">px</span><span style="color: #000000;">'</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">194</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />                        }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">195</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />                    }</span></span><span style="color: #000000;">,<br /></span><span style="color: #008080;">196</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_5722_5875_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_5722_5875_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_5722_5875_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_5722_5875_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_5722_5875_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_5722_5875_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_5722_5875_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_5722_5875_Open_Text').style.display='inline';" />                    </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> (x, y, target ,resizeHandle)</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_5722_5875_Closed_Text">...</span><span id="CodeHighlighter1_5722_5875_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">197</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                        </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> iframe </span><span style="color: #000000;">=</span><span style="color: #000000;"> target.getElementsByTagName(</span><span style="color: #000000;">'</span><span style="color: #000000;">iframe</span><span style="color: #000000;">'</span><span style="color: #000000;">)[</span><span style="color: #000000;">0</span><span style="color: #000000;">];<br /></span><span style="color: #008080;">198</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                        </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> ( iframe) iframe.style.display </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">block</span><span style="color: #000000;">'</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">199</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />                    }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">200</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                );<br /></span><span style="color: #008080;">201</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                <br /></span><span style="color: #008080;">202</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />            }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">203</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">204</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        <br /></span><span style="color: #008080;">205</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />    }</span></span><span style="color: #000000;">,<br /></span><span style="color: #008080;">206</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_5939_6815_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_5939_6815_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_5939_6815_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_5939_6815_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_5939_6815_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_5939_6815_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_5939_6815_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_5939_6815_Open_Text').style.display='inline';" />    close : </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> ()</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_5939_6815_Closed_Text">...</span><span id="CodeHighlighter1_5939_6815_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">207</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;">(</span><span style="color: #000000;">!</span><span style="color: #0000ff;">this</span><span style="color: #000000;">.current) </span><span style="color: #0000ff;">return</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">208</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.current.isOpen </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">false</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">209</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.current.target.style.display </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">"</span><span style="color: #000000;">none</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">210</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (</span><span style="color: #0000ff;">this</span><span style="color: #000000;">.current.overlay) </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.current.overlay.style.display </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">"</span><span style="color: #000000;">none</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">211</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /><br /></span><span style="color: #008080;">212</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.removeEvent(window,</span><span style="color: #000000;">"</span><span style="color: #000000;">scroll</span><span style="color: #000000;">"</span><span style="color: #000000;">,</span><span style="color: #0000ff;">this</span><span style="color: #000000;">.autoLayout);<br /></span><span style="color: #008080;">213</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.removeEvent(window,</span><span style="color: #000000;">"</span><span style="color: #000000;">resize</span><span style="color: #000000;">"</span><span style="color: #000000;">,</span><span style="color: #0000ff;">this</span><span style="color: #000000;">.autoLayout);<br /></span><span style="color: #008080;">214</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.removeEvent(document,</span><span style="color: #000000;">"</span><span style="color: #000000;">keydown</span><span style="color: #000000;">"</span><span style="color: #000000;">,</span><span style="color: #0000ff;">this</span><span style="color: #000000;">.eKeydown);<br /></span><span style="color: #008080;">215</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        <br /></span><span style="color: #008080;">216</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;">(</span><span style="color: #0000ff;">this</span><span style="color: #000000;">.current.createOverlay)<br /></span><span style="color: #008080;">217</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_6324_6394_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_6324_6394_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_6324_6394_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_6324_6394_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_6324_6394_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_6324_6394_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_6324_6394_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_6324_6394_Open_Text').style.display='inline';" />        </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_6324_6394_Closed_Text">...</span><span id="CodeHighlighter1_6324_6394_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">218</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #008000;">//</span><span style="color: #008000;">fix select for ie6(hide)</span><span style="color: #008000;"><br /></span><span style="color: #008080;">219</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /></span><span style="color: #000000;">            </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.toggleIframe(</span><span style="color: #0000ff;">false</span><span style="color: #000000;">);<br /></span><span style="color: #008080;">220</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">221</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /><br /></span><span style="color: #008080;">222</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> ( </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.opened() </span><span style="color: #000000;">!=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">null</span><span style="color: #000000;">)<br /></span><span style="color: #008080;">223</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_6428_6809_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_6428_6809_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_6428_6809_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_6428_6809_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_6428_6809_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_6428_6809_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_6428_6809_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_6428_6809_Open_Text').style.display='inline';" />        </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_6428_6809_Closed_Text">...</span><span id="CodeHighlighter1_6428_6809_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">224</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.current </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.opened();<br /></span><span style="color: #008080;">225</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">if</span><span style="color: #000000;">( </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.current.autoLayout </span><span style="color: #000000;">===</span><span style="color: #000000;"> </span><span style="color: #0000ff;">true</span><span style="color: #000000;"> )<br /></span><span style="color: #008080;">226</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_6508_6630_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_6508_6630_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_6508_6630_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_6508_6630_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_6508_6630_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_6508_6630_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_6508_6630_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_6508_6630_Open_Text').style.display='inline';" />            </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_6508_6630_Closed_Text">...</span><span id="CodeHighlighter1_6508_6630_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">227</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.addEvent(window,</span><span style="color: #000000;">"</span><span style="color: #000000;">scroll</span><span style="color: #000000;">"</span><span style="color: #000000;">,</span><span style="color: #0000ff;">this</span><span style="color: #000000;">.autoLayout);<br /></span><span style="color: #008080;">228</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.addEvent(window,</span><span style="color: #000000;">"</span><span style="color: #000000;">resize</span><span style="color: #000000;">"</span><span style="color: #000000;">,</span><span style="color: #0000ff;">this</span><span style="color: #000000;">.autoLayout);<br /></span><span style="color: #008080;">229</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />            }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">230</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> ( </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.current.listenEsc </span><span style="color: #000000;">===</span><span style="color: #000000;"> </span><span style="color: #0000ff;">true</span><span style="color: #000000;">)<br /></span><span style="color: #008080;">231</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.addEvent(document,</span><span style="color: #000000;">"</span><span style="color: #000000;">keydown</span><span style="color: #000000;">"</span><span style="color: #000000;">,</span><span style="color: #0000ff;">this</span><span style="color: #000000;">.eKeydown );<br /></span><span style="color: #008080;">232</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (</span><span style="color: #0000ff;">this</span><span style="color: #000000;">.current.closeButton)<br /></span><span style="color: #008080;">233</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.current.closeButton.focus();<br /></span><span style="color: #008080;">234</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">235</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        <br /></span><span style="color: #008080;">236</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />    }</span></span><span style="color: #000000;">,<br /></span><span style="color: #008080;">237</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_6838_6951_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_6838_6951_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_6838_6951_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_6838_6951_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_6838_6951_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_6838_6951_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_6838_6951_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_6838_6951_Open_Text').style.display='inline';" />    opened : </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> ()</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_6838_6951_Closed_Text">...</span><span id="CodeHighlighter1_6838_6951_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">238</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">var</span><span style="color: #000000;"> i</span><span style="color: #000000;">=</span><span style="color: #000000;">0</span><span style="color: #000000;">;i</span><span style="color: #000000;">&lt;</span><span style="color: #0000ff;">this</span><span style="color: #000000;">.list.length;i</span><span style="color: #000000;">++</span><span style="color: #000000;">)<br /></span><span style="color: #008080;">239</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_6880_6933_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_6880_6933_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_6880_6933_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_6880_6933_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_6880_6933_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_6880_6933_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_6880_6933_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_6880_6933_Open_Text').style.display='inline';" />        </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_6880_6933_Closed_Text">...</span><span id="CodeHighlighter1_6880_6933_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">240</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">if</span><span style="color: #000000;">(</span><span style="color: #0000ff;">this</span><span style="color: #000000;">.list[i].isOpen) </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.list[i];<br /></span><span style="color: #008080;">241</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">242</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">null</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">243</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />    }</span></span><span style="color: #000000;">,<br /></span><span style="color: #008080;">244</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_7012_8001_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_7012_8001_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_7012_8001_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_7012_8001_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_7012_8001_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_7012_8001_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_7012_8001_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_7012_8001_Open_Text').style.display='inline';" />    create : </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> (containerId,title,content,width,height)</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_7012_8001_Closed_Text">...</span><span id="CodeHighlighter1_7012_8001_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">245</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> container </span><span style="color: #000000;">=</span><span style="color: #000000;"> document.getElementById(containerId);<br /></span><span style="color: #008080;">246</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;">( container </span><span style="color: #000000;">!=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">null</span><span style="color: #000000;">)<br /></span><span style="color: #008080;">247</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_7106_7141_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_7106_7141_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_7106_7141_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_7106_7141_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_7106_7141_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_7106_7141_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_7106_7141_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_7106_7141_Open_Text').style.display='inline';" />        </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_7106_7141_Closed_Text">...</span><span id="CodeHighlighter1_7106_7141_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">248</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> container;<br /></span><span style="color: #008080;">249</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">250</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        container </span><span style="color: #000000;">=</span><span style="color: #000000;"> document.createElement(</span><span style="color: #000000;">"</span><span style="color: #000000;">div</span><span style="color: #000000;">"</span><span style="color: #000000;">);<br /></span><span style="color: #008080;">251</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        container.id </span><span style="color: #000000;">=</span><span style="color: #000000;"> containerId;<br /></span><span style="color: #008080;">252</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        container.className </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">"</span><span style="color: #000000;">popup-container</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">253</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        container.style.display </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">"</span><span style="color: #000000;">none</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">254</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        container.style.width </span><span style="color: #000000;">=</span><span style="color: #000000;"> width </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #000000;">"</span><span style="color: #000000;">px</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">255</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        container.innerHTML </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">"</span><span style="color: #000000;">&lt;div class=\"popup-titlebar\" title=\"点击拖拽\"&gt;</span><span style="color: #000000;">"</span><span style="color: #000000;"><br /></span><span style="color: #008080;">256</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #000000;">"</span><span style="color: #000000;">&lt;a class=\"close\" href=\"javascript:Popup.getInstanceById('</span><span style="color: #000000;">"</span><span style="color: #000000;">+</span><span style="color: #000000;">containerId</span><span style="color: #000000;">+</span><span style="color: #000000;">"</span><span style="color: #000000;">').close();\" title=\"关闭\"&gt;&amp;nbsp;&lt;/a&gt;</span><span style="color: #000000;">"</span><span style="color: #000000;"><br /></span><span style="color: #008080;">257</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #000000;">"</span><span style="color: #000000;">&lt;span class=\"title\"&gt;</span><span style="color: #000000;">"</span><span style="color: #000000;">+</span><span style="color: #000000;">title</span><span style="color: #000000;">+</span><span style="color: #000000;">"</span><span style="color: #000000;">&lt;/span&gt;</span><span style="color: #000000;">"</span><span style="color: #000000;"><br /></span><span style="color: #008080;">258</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #000000;">"</span><span style="color: #000000;">&lt;/div&gt;</span><span style="color: #000000;">"</span><span style="color: #000000;"><br /></span><span style="color: #008080;">259</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #000000;">"</span><span style="color: #000000;">&lt;div class=\"popup-content\"&gt;&lt;/div&gt;</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">260</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> ( width </span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;"> height )<br /></span><span style="color: #008080;">261</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_7665_7841_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_7665_7841_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_7665_7841_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_7665_7841_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_7665_7841_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_7665_7841_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_7665_7841_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_7665_7841_Open_Text').style.display='inline';" />        </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_7665_7841_Closed_Text">...</span><span id="CodeHighlighter1_7665_7841_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">262</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            container.lastChild.innerHTML </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">&lt;iframe allowtransparency="true" frameborder="0" scrolling="no" src="</span><span style="color: #000000;">'</span><span style="color: #000000;">+</span><span style="color: #000000;">content</span><span style="color: #000000;">+</span><span style="color: #000000;">'</span><span style="color: #000000;">" width="</span><span style="color: #000000;">'</span><span style="color: #000000;">+</span><span style="color: #000000;">width</span><span style="color: #000000;">+</span><span style="color: #000000;">'</span><span style="color: #000000;">" height="</span><span style="color: #000000;">'</span><span style="color: #000000;">+</span><span style="color: #000000;">height</span><span style="color: #000000;">+</span><span style="color: #000000;">'</span><span style="color: #000000;">"&gt;&lt;/iframe&gt;</span><span style="color: #000000;">'</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">263</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #0000ff;">else</span><span style="color: #000000;"><br /></span><span style="color: #008080;">264</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_7848_7909_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_7848_7909_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_7848_7909_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_7848_7909_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_7848_7909_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_7848_7909_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_7848_7909_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_7848_7909_Open_Text').style.display='inline';" />        </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_7848_7909_Closed_Text">...</span><span id="CodeHighlighter1_7848_7909_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">265</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            container.lastChild.appendChild(</span><span style="color: #0000ff;">this</span><span style="color: #000000;">.$(content));<br /></span><span style="color: #008080;">266</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">267</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        document.body.insertBefore(container,document.body.childNodes[</span><span style="color: #000000;">0</span><span style="color: #000000;">]);<br /></span><span style="color: #008080;">268</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> container;<br /></span><span style="color: #008080;">269</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />    }</span></span><span style="color: #000000;">,<br /></span><span style="color: #008080;">270</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_8035_9625_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_8035_9625_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_8035_9625_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_8035_9625_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_8035_9625_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_8035_9625_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_8035_9625_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_8035_9625_Open_Text').style.display='inline';" />    autoLayout : </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> (current)</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_8035_9625_Closed_Text">...</span><span id="CodeHighlighter1_8035_9625_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">271</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> self </span><span style="color: #000000;">=</span><span style="color: #000000;"> Popup;<br /></span><span style="color: #008080;">272</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_8090_9379_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_8090_9379_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_8090_9379_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_8090_9379_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_8090_9379_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_8090_9379_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_8090_9379_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_8090_9379_Open_Text').style.display='inline';" />        </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> layout(current) </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_8090_9379_Closed_Text">...</span><span id="CodeHighlighter1_8090_9379_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">273</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> target </span><span style="color: #000000;">=</span><span style="color: #000000;"> current.target;<br /></span><span style="color: #008080;">274</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> left </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">0</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">275</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">switch</span><span style="color: #000000;">( current.align )<br /></span><span style="color: #008080;">276</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_8171_8491_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_8171_8491_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_8171_8491_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_8171_8491_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_8171_8491_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_8171_8491_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_8171_8491_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_8171_8491_Open_Text').style.display='inline';" />            </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_8171_8491_Closed_Text">...</span><span id="CodeHighlighter1_8171_8491_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">277</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">case</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">left</span><span style="color: #000000;">'</span><span style="color: #000000;">:<br /></span><span style="color: #008080;">278</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                    left </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">0</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">279</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                    </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">280</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">case</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">center</span><span style="color: #000000;">'</span><span style="color: #000000;">:<br /></span><span style="color: #008080;">281</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                    left </span><span style="color: #000000;">=</span><span style="color: #000000;"> (self.objProperty(window,</span><span style="color: #000000;">"</span><span style="color: #000000;">Width</span><span style="color: #000000;">"</span><span style="color: #000000;">)</span><span style="color: #000000;">-</span><span style="color: #000000;">self.objProperty( target,</span><span style="color: #000000;">"</span><span style="color: #000000;">Width</span><span style="color: #000000;">"</span><span style="color: #000000;">))</span><span style="color: #000000;">/</span><span style="color: #000000;">2;</span><span style="color: #000000;"><br /></span><span style="color: #008080;">282</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /></span><span style="color: #000000;">                    </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">283</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">case</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">right</span><span style="color: #000000;">'</span><span style="color: #000000;">:<br /></span><span style="color: #008080;">284</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                    left </span><span style="color: #000000;">=</span><span style="color: #000000;"> self.objProperty(window,</span><span style="color: #000000;">"</span><span style="color: #000000;">Width</span><span style="color: #000000;">"</span><span style="color: #000000;">)</span><span style="color: #000000;">-</span><span style="color: #000000;">self.objProperty( target,</span><span style="color: #000000;">"</span><span style="color: #000000;">Width</span><span style="color: #000000;">"</span><span style="color: #000000;">);<br /></span><span style="color: #008080;">285</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                    </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">286</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />            }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">287</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            left </span><span style="color: #000000;">+=</span><span style="color: #000000;"> current.alignSlant;<br /></span><span style="color: #008080;">288</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            target.style.left </span><span style="color: #000000;">=</span><span style="color: #000000;"> left </span><span style="color: #000000;">+</span><span style="color: #000000;"> self.scrollLeft() </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #000000;">"</span><span style="color: #000000;">px</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">289</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> top </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">0</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">290</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">switch</span><span style="color: #000000;">( current.vertical )<br /></span><span style="color: #008080;">291</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_8628_8949_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_8628_8949_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_8628_8949_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_8628_8949_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_8628_8949_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_8628_8949_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_8628_8949_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_8628_8949_Open_Text').style.display='inline';" />            </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_8628_8949_Closed_Text">...</span><span id="CodeHighlighter1_8628_8949_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">292</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">case</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">top</span><span style="color: #000000;">'</span><span style="color: #000000;">:<br /></span><span style="color: #008080;">293</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                    top </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">0</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">294</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                    </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">295</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">case</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">middle</span><span style="color: #000000;">'</span><span style="color: #000000;">:<br /></span><span style="color: #008080;">296</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                    top </span><span style="color: #000000;">=</span><span style="color: #000000;"> (self.objProperty(window,</span><span style="color: #000000;">"</span><span style="color: #000000;">Height</span><span style="color: #000000;">"</span><span style="color: #000000;">)</span><span style="color: #000000;">-</span><span style="color: #000000;">self.objProperty( target,</span><span style="color: #000000;">"</span><span style="color: #000000;">Height</span><span style="color: #000000;">"</span><span style="color: #000000;">))</span><span style="color: #000000;">/</span><span style="color: #000000;">2;</span><span style="color: #000000;"><br /></span><span style="color: #008080;">297</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /></span><span style="color: #000000;">                    </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">298</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">case</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">bottom</span><span style="color: #000000;">'</span><span style="color: #000000;">:<br /></span><span style="color: #008080;">299</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                    top </span><span style="color: #000000;">=</span><span style="color: #000000;"> self.objProperty(window,</span><span style="color: #000000;">"</span><span style="color: #000000;">Height</span><span style="color: #000000;">"</span><span style="color: #000000;">)</span><span style="color: #000000;">-</span><span style="color: #000000;">self.objProperty( target,</span><span style="color: #000000;">"</span><span style="color: #000000;">Height</span><span style="color: #000000;">"</span><span style="color: #000000;">);<br /></span><span style="color: #008080;">300</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                    </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">301</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />            }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">302</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            top </span><span style="color: #000000;">+=</span><span style="color: #000000;"> current.verticalSlant;<br /></span><span style="color: #008080;">303</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            target.style.top </span><span style="color: #000000;">=</span><span style="color: #000000;"> top </span><span style="color: #000000;">+</span><span style="color: #000000;"> self.scrollTop() </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #000000;">"</span><span style="color: #000000;">px</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">304</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            <br /></span><span style="color: #008080;">305</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">if</span><span style="color: #000000;">( current.createOverlay )<br /></span><span style="color: #008080;">306</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_9077_9148_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_9077_9148_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_9077_9148_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_9077_9148_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_9077_9148_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_9077_9148_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_9077_9148_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_9077_9148_Open_Text').style.display='inline';" />            </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_9077_9148_Closed_Text">...</span><span id="CodeHighlighter1_9077_9148_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">307</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #008000;">//</span><span style="color: #008000;">fix select for ie6</span><span style="color: #008000;"><br /></span><span style="color: #008080;">308</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /></span><span style="color: #000000;">                self.toggleIframe();<br /></span><span style="color: #008080;">309</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />            }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">310</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            <br /></span><span style="color: #008080;">311</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> overlay </span><span style="color: #000000;">=</span><span style="color: #000000;"> current.overlay;<br /></span><span style="color: #008080;">312</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (overlay</span><span style="color: #000000;">==</span><span style="color: #000000;">undefined) </span><span style="color: #0000ff;">return</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">313</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            <br /></span><span style="color: #008080;">314</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            overlay.style.width </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">0</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">315</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            overlay.style.height </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">0</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">316</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            overlay.style.width </span><span style="color: #000000;">=</span><span style="color: #000000;"> self.width()</span><span style="color: #000000;">+</span><span style="color: #000000;">"</span><span style="color: #000000;">px</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">317</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            overlay.style.height </span><span style="color: #000000;">=</span><span style="color: #000000;"> self.height()</span><span style="color: #000000;">+</span><span style="color: #000000;">"</span><span style="color: #000000;">px</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">318</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">319</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (current </span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;"> </span><span style="color: #000000;">!</span><span style="color: #000000;">current.type ) <br /></span><span style="color: #008080;">320</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_9416_9473_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_9416_9473_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_9416_9473_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_9416_9473_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_9416_9473_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_9416_9473_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_9416_9473_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_9416_9473_Open_Text').style.display='inline';" />        </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_9416_9473_Closed_Text">...</span><span id="CodeHighlighter1_9416_9473_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">321</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #008000;">//</span><span style="color: #008000;">手动调用事件</span><span style="color: #008000;"><br /></span><span style="color: #008080;">322</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /></span><span style="color: #000000;">            layout(current);<br /></span><span style="color: #008080;">323</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">return</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">324</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">325</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">var</span><span style="color: #000000;"> i</span><span style="color: #000000;">=</span><span style="color: #000000;">0</span><span style="color: #000000;">;i</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">self.list.length;i</span><span style="color: #000000;">++</span><span style="color: #000000;">)<br /></span><span style="color: #008080;">326</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_9514_9622_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_9514_9622_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_9514_9622_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_9514_9622_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_9514_9622_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_9514_9622_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_9514_9622_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_9514_9622_Open_Text').style.display='inline';" />        </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_9514_9622_Closed_Text">...</span><span id="CodeHighlighter1_9514_9622_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">327</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> settings </span><span style="color: #000000;">=</span><span style="color: #000000;"> self.list[i];<br /></span><span style="color: #008080;">328</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">if</span><span style="color: #000000;">( settings.autoLayout </span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;"> settings.isOpen) layout(settings);<br /></span><span style="color: #008080;">329</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">330</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />    }</span></span><span style="color: #000000;">,<br /></span><span style="color: #008080;">331</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_9664_10858_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_9664_10858_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_9664_10858_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_9664_10858_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_9664_10858_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_9664_10858_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_9664_10858_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_9664_10858_Open_Text').style.display='inline';" />    toggleIframe : </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> ( display ) </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_9664_10858_Closed_Text">...</span><span id="CodeHighlighter1_9664_10858_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">332</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        <br /></span><span style="color: #008080;">333</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;">( </span><span style="color: #000000;">!</span><span style="color: #000000;">(</span><span style="color: #0000ff;">this</span><span style="color: #000000;">.browser.msie </span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.browser.version </span><span style="color: #000000;">&lt;=</span><span style="color: #000000;"> </span><span style="color: #000000;">6</span><span style="color: #000000;">) ) </span><span style="color: #0000ff;">return</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">334</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />    <br /></span><span style="color: #008080;">335</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;">( display </span><span style="color: #000000;">===</span><span style="color: #000000;"> </span><span style="color: #0000ff;">true</span><span style="color: #000000;"> </span><span style="color: #000000;">||</span><span style="color: #000000;"> display </span><span style="color: #000000;">===</span><span style="color: #000000;"> </span><span style="color: #0000ff;">false</span><span style="color: #000000;"> )<br /></span><span style="color: #008080;">336</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_9797_10009_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_9797_10009_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_9797_10009_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_9797_10009_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_9797_10009_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_9797_10009_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_9797_10009_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_9797_10009_Open_Text').style.display='inline';" />        </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_9797_10009_Closed_Text">...</span><span id="CodeHighlighter1_9797_10009_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">337</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> selects </span><span style="color: #000000;">=</span><span style="color: #000000;"> document.getElementsByTagName(</span><span style="color: #000000;">"</span><span style="color: #000000;">select</span><span style="color: #000000;">"</span><span style="color: #000000;">);<br /></span><span style="color: #008080;">338</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">var</span><span style="color: #000000;"> i</span><span style="color: #000000;">=</span><span style="color: #000000;">0</span><span style="color: #000000;">;i</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">selects.length;i</span><span style="color: #000000;">++</span><span style="color: #000000;">)<br /></span><span style="color: #008080;">339</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_9915_10002_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_9915_10002_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_9915_10002_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_9915_10002_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_9915_10002_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_9915_10002_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_9915_10002_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_9915_10002_Open_Text').style.display='inline';" />            </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_9915_10002_Closed_Text">...</span><span id="CodeHighlighter1_9915_10002_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">340</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                selects[i].style.visibility </span><span style="color: #000000;">=</span><span style="color: #000000;"> display </span><span style="color: #000000;">?</span><span style="color: #000000;"> </span><span style="color: #000000;">"</span><span style="color: #000000;">hidden</span><span style="color: #000000;">"</span><span style="color: #000000;"> : </span><span style="color: #000000;">"</span><span style="color: #000000;">visible</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">341</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />            }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">342</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">343</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">return</span><span style="color: #000000;">;</span><span style="color: #008000;">//</span><span style="color: #008000;">Do Not Fix</span><span style="color: #008000;"><br /></span><span style="color: #008080;">344</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /></span><span style="color: #000000;">        </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> iframeId </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">"</span><span style="color: #000000;">puopup-overlay-iframe</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">345</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> iframe </span><span style="color: #000000;">=</span><span style="color: #000000;"> document.getElementById(iframeId);<br /></span><span style="color: #008080;">346</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;">( iframe </span><span style="color: #000000;">==</span><span style="color: #000000;"> </span><span style="color: #0000ff;">null</span><span style="color: #000000;"> )<br /></span><span style="color: #008080;">347</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_10167_10607_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_10167_10607_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_10167_10607_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_10167_10607_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_10167_10607_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_10167_10607_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_10167_10607_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_10167_10607_Open_Text').style.display='inline';" />        </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_10167_10607_Closed_Text">...</span><span id="CodeHighlighter1_10167_10607_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">348</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            iframe </span><span style="color: #000000;">=</span><span style="color: #000000;"> document.createElement(</span><span style="color: #000000;">"</span><span style="color: #000000;">iframe</span><span style="color: #000000;">"</span><span style="color: #000000;">);<br /></span><span style="color: #008080;">349</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            iframe.id </span><span style="color: #000000;">=</span><span style="color: #000000;"> iframeId;<br /></span><span style="color: #008080;">350</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            iframe.name </span><span style="color: #000000;">=</span><span style="color: #000000;"> iframeId;<br /></span><span style="color: #008080;">351</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            iframe.tabIndex </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">-</span><span style="color: #000000;">1</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">352</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            iframe.frameBorder </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">0</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">353</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            iframe.style.position </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">"</span><span style="color: #000000;">absolute</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">354</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            iframe.style.top </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">0</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">355</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            iframe.style.left </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">0</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">356</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #008000;">//</span><span style="color: #008000;">iframe.allowTransparency = true;</span><span style="color: #008000;"><br /></span><span style="color: #008080;">357</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /></span><span style="color: #000000;">            iframe.src </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">"</span><span style="color: #000000;">about:blank</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">358</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            document.body.insertBefore(iframe,document.body.lastChild);<br /></span><span style="color: #008080;">359</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">360</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        iframe.style.width </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">0</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">361</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        iframe.style.height </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">0</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">362</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        iframe.style.width </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.width()</span><span style="color: #000000;">+</span><span style="color: #000000;">"</span><span style="color: #000000;">px</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">363</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        iframe.style.height </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.height()</span><span style="color: #000000;">+</span><span style="color: #000000;">"</span><span style="color: #000000;">px</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">364</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;">( display </span><span style="color: #000000;">===</span><span style="color: #000000;"> </span><span style="color: #0000ff;">true</span><span style="color: #000000;"> </span><span style="color: #000000;">||</span><span style="color: #000000;"> display </span><span style="color: #000000;">===</span><span style="color: #000000;"> </span><span style="color: #0000ff;">false</span><span style="color: #000000;"> )<br /></span><span style="color: #008080;">365</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            iframe.style.display </span><span style="color: #000000;">=</span><span style="color: #000000;"> display </span><span style="color: #000000;">?</span><span style="color: #000000;"> </span><span style="color: #000000;">"</span><span style="color: #000000;">block</span><span style="color: #000000;">"</span><span style="color: #000000;"> : </span><span style="color: #000000;">"</span><span style="color: #000000;">none</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">366</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />    }</span></span><span style="color: #000000;">,<br /></span><span style="color: #008080;">367</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_10899_11683_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_10899_11683_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_10899_11683_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_10899_11683_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_10899_11683_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_10899_11683_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_10899_11683_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_10899_11683_Open_Text').style.display='inline';" />    eDrag : </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> (target ,dragHandle) </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_10899_11683_Closed_Text">...</span><span id="CodeHighlighter1_10899_11683_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">368</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        dragHandle </span><span style="color: #000000;">=</span><span style="color: #000000;"> dragHandle </span><span style="color: #000000;">||</span><span style="color: #000000;"> target;<br /></span><span style="color: #008080;">369</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_10986_11679_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_10986_11679_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_10986_11679_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_10986_11679_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_10986_11679_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_10986_11679_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_10986_11679_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_10986_11679_Open_Text').style.display='inline';" />        dragHandle.onmousedown </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> (e)</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_10986_11679_Closed_Text">...</span><span id="CodeHighlighter1_10986_11679_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">370</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            e </span><span style="color: #000000;">=</span><span style="color: #000000;"> window.event </span><span style="color: #000000;">||</span><span style="color: #000000;"> e;<br /></span><span style="color: #008080;">371</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> _xy </span><span style="color: #000000;">=</span><span style="color: #000000;"> parseInt(target.offsetTop) </span><span style="color: #000000;">-</span><span style="color: #000000;"> e.clientY;<br /></span><span style="color: #008080;">372</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> _xx </span><span style="color: #000000;">=</span><span style="color: #000000;"> parseInt(target.offsetLeft) </span><span style="color: #000000;">-</span><span style="color: #000000;"> e.clientX;<br /></span><span style="color: #008080;">373</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_11185_11272_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_11185_11272_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_11185_11272_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_11185_11272_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_11185_11272_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_11185_11272_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_11185_11272_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_11185_11272_Open_Text').style.display='inline';" />            document.onmouseup </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">function</span><span style="color: #000000;">()</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_11185_11272_Closed_Text">...</span><span id="CodeHighlighter1_11185_11272_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">374</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.onmousemove </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">null</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">375</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.onmouseup</span><span style="color: #000000;">=</span><span style="color: #0000ff;">null</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">376</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />            }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">377</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_11305_11353_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_11305_11353_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_11305_11353_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_11305_11353_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_11305_11353_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_11305_11353_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_11305_11353_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_11305_11353_Open_Text').style.display='inline';" />            </span><span style="color: #0000ff;">if</span><span style="color: #000000;">(e.preventDefault)</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_11305_11353_Closed_Text">...</span><span id="CodeHighlighter1_11305_11353_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">378</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                e.preventDefault();<br /></span><span style="color: #008080;">379</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />            }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">380</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_11400_11568_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_11400_11568_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_11400_11568_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_11400_11568_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_11400_11568_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_11400_11568_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_11400_11568_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_11400_11568_Open_Text').style.display='inline';" />            document.onmousemove </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">function</span><span style="color: #000000;">(e)</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_11400_11568_Closed_Text">...</span><span id="CodeHighlighter1_11400_11568_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">381</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> e </span><span style="color: #000000;">=</span><span style="color: #000000;"> window.event </span><span style="color: #000000;">||</span><span style="color: #000000;"> e;<br /></span><span style="color: #008080;">382</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                target.style.top </span><span style="color: #000000;">=</span><span style="color: #000000;"> _xy </span><span style="color: #000000;">+</span><span style="color: #000000;"> e.clientY </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #000000;">"</span><span style="color: #000000;">px</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">383</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                target.style.left </span><span style="color: #000000;">=</span><span style="color: #000000;"> _xx </span><span style="color: #000000;">+</span><span style="color: #000000;"> e.clientX </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #000000;">"</span><span style="color: #000000;">px</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">384</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />            }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">385</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            window.getSelection </span><span style="color: #000000;">?</span><span style="color: #000000;"> window.getSelection().removeAllRanges() : document.selection.empty();<br /></span><span style="color: #008080;">386</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;">;<br /></span><span style="color: #008080;">387</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />    }</span></span><span style="color: #000000;">,<br /></span><span style="color: #008080;">388</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_11748_12656_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_11748_12656_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_11748_12656_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_11748_12656_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_11748_12656_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_11748_12656_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_11748_12656_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_11748_12656_Open_Text').style.display='inline';" />    eResize : </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> (target ,resizeHandle, mousemove, mouseup) </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_11748_12656_Closed_Text">...</span><span id="CodeHighlighter1_11748_12656_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">389</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> self </span><span style="color: #000000;">=</span><span style="color: #000000;"> Popup;<br /></span><span style="color: #008080;">390</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        resizeHandle </span><span style="color: #000000;">=</span><span style="color: #000000;"> resizeHandle </span><span style="color: #000000;">||</span><span style="color: #000000;"> target;<br /></span><span style="color: #008080;">391</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_11875_12652_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_11875_12652_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_11875_12652_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_11875_12652_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_11875_12652_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_11875_12652_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_11875_12652_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_11875_12652_Open_Text').style.display='inline';" />        resizeHandle.childNodes[</span><span style="color: #000000;">0</span><span style="color: #000000;">].onmousedown </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> (e)</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_11875_12652_Closed_Text">...</span><span id="CodeHighlighter1_11875_12652_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">392</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            e </span><span style="color: #000000;">=</span><span style="color: #000000;"> window.event </span><span style="color: #000000;">||</span><span style="color: #000000;"> e;<br /></span><span style="color: #008080;">393</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> y </span><span style="color: #000000;">=</span><span style="color: #000000;"> parseInt( self.objProperty(target,</span><span style="color: #000000;">'</span><span style="color: #000000;">Height</span><span style="color: #000000;">'</span><span style="color: #000000;">) ) </span><span style="color: #000000;">-</span><span style="color: #000000;"> e.clientY;<br /></span><span style="color: #008080;">394</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> x </span><span style="color: #000000;">=</span><span style="color: #000000;"> parseInt( self.objProperty(target,</span><span style="color: #000000;">'</span><span style="color: #000000;">Width</span><span style="color: #000000;">'</span><span style="color: #000000;">) ) </span><span style="color: #000000;">-</span><span style="color: #000000;"> e.clientX;<br /></span><span style="color: #008080;">395</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_12112_12263_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_12112_12263_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_12112_12263_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_12112_12263_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_12112_12263_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_12112_12263_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_12112_12263_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_12112_12263_Open_Text').style.display='inline';" />            document.onmouseup </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">function</span><span style="color: #000000;">()</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_12112_12263_Closed_Text">...</span><span id="CodeHighlighter1_12112_12263_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">396</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.onmousemove </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">null</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">397</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.onmouseup </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">null</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">398</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">if</span><span style="color: #000000;">(mouseup) mouseup(x, y, target, resizeHandle);<br /></span><span style="color: #008080;">399</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />            }</span></span><span style="color: #000000;">  <br /></span><span style="color: #008080;">400</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_12298_12346_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_12298_12346_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_12298_12346_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_12298_12346_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_12298_12346_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_12298_12346_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_12298_12346_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_12298_12346_Open_Text').style.display='inline';" />            </span><span style="color: #0000ff;">if</span><span style="color: #000000;">(e.preventDefault)</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_12298_12346_Closed_Text">...</span><span id="CodeHighlighter1_12298_12346_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">401</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                e.preventDefault();<br /></span><span style="color: #008080;">402</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />            }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">403</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_12393_12538_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_12393_12538_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_12393_12538_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_12393_12538_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_12393_12538_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_12393_12538_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_12393_12538_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_12393_12538_Open_Text').style.display='inline';" />            document.onmousemove </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">function</span><span style="color: #000000;">(e)</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_12393_12538_Closed_Text">...</span><span id="CodeHighlighter1_12393_12538_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">404</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> e </span><span style="color: #000000;">=</span><span style="color: #000000;"> window.event </span><span style="color: #000000;">||</span><span style="color: #000000;"> e;<br /></span><span style="color: #008080;">405</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">if</span><span style="color: #000000;">(mousemove) mousemove(x </span><span style="color: #000000;">+</span><span style="color: #000000;"> e.clientX, y </span><span style="color: #000000;">+</span><span style="color: #000000;"> e.clientY, target, resizeHandle);<br /></span><span style="color: #008080;">406</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />            }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">407</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            window.getSelection </span><span style="color: #000000;">?</span><span style="color: #000000;"> window.getSelection().removeAllRanges() : document.selection.empty();<br /></span><span style="color: #008080;">408</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;">;<br /></span><span style="color: #008080;">409</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />    }</span></span><span style="color: #000000;">,<br /></span><span style="color: #008080;">410</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_12683_12755_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_12683_12755_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_12683_12755_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_12683_12755_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_12683_12755_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_12683_12755_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_12683_12755_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_12683_12755_Open_Text').style.display='inline';" />    eKeydown : </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> (e) </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_12683_12755_Closed_Text">...</span><span id="CodeHighlighter1_12683_12755_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">411</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> num </span><span style="color: #000000;">=</span><span style="color: #000000;"> e.which</span><span style="color: #000000;">?</span><span style="color: #000000;">e.which:e.keyCode;<br /></span><span style="color: #008080;">412</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;">(num</span><span style="color: #000000;">==</span><span style="color: #000000;">27</span><span style="color: #000000;">) Popup.close();<br /></span><span style="color: #008080;">413</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />    }</span></span><span style="color: #000000;">,<br /></span><span style="color: #008080;">414</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_12776_12882_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_12776_12882_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_12776_12882_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_12776_12882_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_12776_12882_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_12776_12882_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_12776_12882_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_12776_12882_Open_Text').style.display='inline';" />    $ : </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> (id) </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_12776_12882_Closed_Text">...</span><span id="CodeHighlighter1_12776_12882_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">415</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;">( </span><span style="color: #0000ff;">typeof</span><span style="color: #000000;">(id) </span><span style="color: #000000;">==</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">string</span><span style="color: #000000;">'</span><span style="color: #000000;">)<br /></span><span style="color: #008080;">416</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />             </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> document.getElementById(id);<br /></span><span style="color: #008080;">417</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />         </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> id;<br /></span><span style="color: #008080;">418</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />    }</span></span><span style="color: #000000;">,<br /></span><span style="color: #008080;">419</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_12895_13414_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_12895_13414_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_12895_13414_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_12895_13414_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_12895_13414_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_12895_13414_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_12895_13414_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_12895_13414_Open_Text').style.display='inline';" />    browser : </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_12895_13414_Closed_Text">...</span><span id="CodeHighlighter1_12895_13414_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">420</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        userAgent : navigator.userAgent.toLowerCase(),<br /></span><span style="color: #008080;">421</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        version: (navigator.userAgent.toLowerCase().match( </span><span style="color: #000000;">/</span><span style="color: #000000;">.+(?:rv|it|ra|ie)[\/: ]([\d.]+)</span><span style="color: #000000;">/</span><span style="color: #000000;"> ) </span><span style="color: #000000;">||</span><span style="color: #000000;"> [])[</span><span style="color: #000000;">1</span><span style="color: #000000;">],<br /></span><span style="color: #008080;">422</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        safari: </span><span style="color: #000000;">/</span><span style="color: #000000;">webkit</span><span style="color: #000000;">/</span><span style="color: #000000;">.test(navigator.userAgent.toLowerCase()),<br /></span><span style="color: #008080;">423</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        opera: </span><span style="color: #000000;">/</span><span style="color: #000000;">opera</span><span style="color: #000000;">/</span><span style="color: #000000;">.test( navigator.userAgent.toLowerCase() ),<br /></span><span style="color: #008080;">424</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        msie: </span><span style="color: #000000;">/</span><span style="color: #000000;">msie</span><span style="color: #000000;">/</span><span style="color: #000000;">.test( navigator.userAgent.toLowerCase() ) </span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;"> </span><span style="color: #000000;">!</span><span style="color: #000000;">/</span><span style="color: #000000;">opera</span><span style="color: #000000;">/</span><span style="color: #000000;">.test( navigator.userAgent.toLowerCase() ),<br /></span><span style="color: #008080;">425</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        mozilla: </span><span style="color: #000000;">/</span><span style="color: #000000;">mozilla</span><span style="color: #000000;">/</span><span style="color: #000000;">.test( navigator.userAgent.toLowerCase() ) </span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;"> </span><span style="color: #000000;">!</span><span style="color: #000000;">/</span><span style="color: #000000;">(compatible|webkit)</span><span style="color: #000000;">/</span><span style="color: #000000;">.test( navigator.userAgent.toLowerCase() )<br /></span><span style="color: #008080;">426</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />    }</span></span><span style="color: #000000;">,<br /></span><span style="color: #008080;">427</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_13459_13649_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_13459_13649_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_13459_13649_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_13459_13649_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_13459_13649_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_13459_13649_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_13459_13649_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_13459_13649_Open_Text').style.display='inline';" />    addEvent : </span><span style="color: #0000ff;">function</span><span style="color: #000000;">(target,eventType,func)</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_13459_13649_Closed_Text">...</span><span id="CodeHighlighter1_13459_13649_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">428</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;">(target.attachEvent)<br /></span><span style="color: #008080;">429</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_13488_13541_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_13488_13541_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_13488_13541_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_13488_13541_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_13488_13541_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_13488_13541_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_13488_13541_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_13488_13541_Open_Text').style.display='inline';" />        </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_13488_13541_Closed_Text">...</span><span id="CodeHighlighter1_13488_13541_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">430</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            target.attachEvent(</span><span style="color: #000000;">"</span><span style="color: #000000;">on</span><span style="color: #000000;">"</span><span style="color: #000000;">+</span><span style="color: #000000;">eventType,func);<br /></span><span style="color: #008080;">431</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            <br /></span><span style="color: #008080;">432</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #0000ff;">else</span><span style="color: #000000;"> </span><span style="color: #0000ff;">if</span><span style="color: #000000;">(target.addEventListener)<br /></span><span style="color: #008080;">433</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_13576_13631_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_13576_13631_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_13576_13631_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_13576_13631_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_13576_13631_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_13576_13631_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_13576_13631_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_13576_13631_Open_Text').style.display='inline';" />        </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_13576_13631_Closed_Text">...</span><span id="CodeHighlighter1_13576_13631_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">434</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            target.addEventListener(eventType,func,</span><span style="color: #0000ff;">false</span><span style="color: #000000;">);<br /></span><span style="color: #008080;">435</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">436</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">437</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />    }</span></span><span style="color: #000000;">,<br /></span><span style="color: #008080;">438</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_13697_13893_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_13697_13893_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_13697_13893_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_13697_13893_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_13697_13893_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_13697_13893_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_13697_13893_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_13697_13893_Open_Text').style.display='inline';" />    removeEvent : </span><span style="color: #0000ff;">function</span><span style="color: #000000;">(target,eventType,func)</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_13697_13893_Closed_Text">...</span><span id="CodeHighlighter1_13697_13893_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">439</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;">(target.detachEvent)<br /></span><span style="color: #008080;">440</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_13726_13779_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_13726_13779_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_13726_13779_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_13726_13779_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_13726_13779_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_13726_13779_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_13726_13779_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_13726_13779_Open_Text').style.display='inline';" />        </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_13726_13779_Closed_Text">...</span><span id="CodeHighlighter1_13726_13779_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">441</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            target.detachEvent(</span><span style="color: #000000;">"</span><span style="color: #000000;">on</span><span style="color: #000000;">"</span><span style="color: #000000;">+</span><span style="color: #000000;">eventType,func);<br /></span><span style="color: #008080;">442</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            <br /></span><span style="color: #008080;">443</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #0000ff;">else</span><span style="color: #000000;"> </span><span style="color: #0000ff;">if</span><span style="color: #000000;">(target.removeEventListener)<br /></span><span style="color: #008080;">444</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_13817_13875_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_13817_13875_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_13817_13875_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_13817_13875_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_13817_13875_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_13817_13875_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_13817_13875_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_13817_13875_Open_Text').style.display='inline';" />        </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_13817_13875_Closed_Text">...</span><span id="CodeHighlighter1_13817_13875_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">445</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            target.removeEventListener(eventType,func,</span><span style="color: #0000ff;">false</span><span style="color: #000000;">);<br /></span><span style="color: #008080;">446</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">447</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">448</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />    }</span></span><span style="color: #000000;">,<br /></span><span style="color: #008080;">449</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_13917_14095_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_13917_14095_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_13917_14095_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_13917_14095_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_13917_14095_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_13917_14095_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_13917_14095_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_13917_14095_Open_Text').style.display='inline';" />    scrollTop: </span><span style="color: #0000ff;">function</span><span style="color: #000000;">()</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_13917_14095_Closed_Text">...</span><span id="CodeHighlighter1_13917_14095_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">450</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />     </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.browser.msie </span><span style="color: #000000;">?</span><span style="color: #000000;"> ((document.compatMode </span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;"> document.compatMode</span><span style="color: #000000;">!=</span><span style="color: #000000;">"</span><span style="color: #000000;">BackCompat</span><span style="color: #000000;">"</span><span style="color: #000000;">)</span><span style="color: #000000;">?</span><span style="color: #000000;"> document.documentElement.scrollTop : document.body.scrollTop) : window.pageYOffset;<br /></span><span style="color: #008080;">451</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />    }</span></span><span style="color: #000000;">,<br /></span><span style="color: #008080;">452</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_14120_14300_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_14120_14300_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_14120_14300_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_14120_14300_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_14120_14300_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_14120_14300_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_14120_14300_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_14120_14300_Open_Text').style.display='inline';" />    scrollLeft: </span><span style="color: #0000ff;">function</span><span style="color: #000000;">()</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_14120_14300_Closed_Text">...</span><span id="CodeHighlighter1_14120_14300_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">453</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />     </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.browser.msie </span><span style="color: #000000;">?</span><span style="color: #000000;"> ((document.compatMode </span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;"> document.compatMode</span><span style="color: #000000;">!=</span><span style="color: #000000;">"</span><span style="color: #000000;">BackCompat</span><span style="color: #000000;">"</span><span style="color: #000000;">)</span><span style="color: #000000;">?</span><span style="color: #000000;"> document.documentElement.scrollLeft : document.body.scrollLeft) : window.pageXOffset;<br /></span><span style="color: #008080;">454</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />    }</span></span><span style="color: #000000;">,<br /></span><span style="color: #008080;">455</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_14323_14851_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_14323_14851_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_14323_14851_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_14323_14851_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_14323_14851_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_14323_14851_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_14323_14851_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_14323_14851_Open_Text').style.display='inline';" />    height : </span><span style="color: #0000ff;">function</span><span style="color: #000000;">() </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_14323_14851_Closed_Text">...</span><span id="CodeHighlighter1_14323_14851_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">456</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_14379_14738_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_14379_14738_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_14379_14738_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_14379_14738_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_14379_14738_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_14379_14738_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_14379_14738_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_14379_14738_Open_Text').style.display='inline';" />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> ( </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.browser.msie </span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.browser.version </span><span style="color: #000000;">&lt;</span><span style="color: #000000;"> </span><span style="color: #000000;">7</span><span style="color: #000000;">) </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_14379_14738_Closed_Text">...</span><span id="CodeHighlighter1_14379_14738_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">457</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> scrollHeight </span><span style="color: #000000;">=</span><span style="color: #000000;"> Math.max(<br /></span><span style="color: #008080;">458</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                document.documentElement.scrollHeight,<br /></span><span style="color: #008080;">459</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                document.body.scrollHeight<br /></span><span style="color: #008080;">460</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            );<br /></span><span style="color: #008080;">461</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> offsetHeight </span><span style="color: #000000;">=</span><span style="color: #000000;"> Math.max(<br /></span><span style="color: #008080;">462</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                document.documentElement.offsetHeight,<br /></span><span style="color: #008080;">463</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                document.body.offsetHeight<br /></span><span style="color: #008080;">464</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            );<br /></span><span style="color: #008080;">465</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            <br /></span><span style="color: #008080;">466</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_14645_14697_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_14645_14697_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_14645_14697_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_14645_14697_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_14645_14697_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_14645_14697_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_14645_14697_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_14645_14697_Open_Text').style.display='inline';" />            </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (scrollHeight </span><span style="color: #000000;">&lt;</span><span style="color: #000000;"> offsetHeight) </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_14645_14697_Closed_Text">...</span><span id="CodeHighlighter1_14645_14697_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">467</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.objProperty(window,</span><span style="color: #000000;">"</span><span style="color: #000000;">Height</span><span style="color: #000000;">"</span><span style="color: #000000;">);<br /></span><span style="color: #008080;">468</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_14703_14734_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_14703_14734_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_14703_14734_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_14703_14734_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_14703_14734_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_14703_14734_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_14703_14734_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_14703_14734_Open_Text').style.display='inline';" />            }</span></span><span style="color: #000000;"> </span><span style="color: #0000ff;">else</span><span style="color: #000000;"> </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_14703_14734_Closed_Text">...</span><span id="CodeHighlighter1_14703_14734_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">469</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> scrollHeight;<br /></span><span style="color: #008080;">470</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />            }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">471</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_14744_14848_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_14744_14848_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_14744_14848_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_14744_14848_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_14744_14848_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_14744_14848_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_14744_14848_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_14744_14848_Open_Text').style.display='inline';" />        }</span></span><span style="color: #000000;"> </span><span style="color: #0000ff;">else</span><span style="color: #000000;"> </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_14744_14848_Closed_Text">...</span><span id="CodeHighlighter1_14744_14848_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">472</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #008000;">//</span><span style="color: #008000;">return document.documentElement.scrollHeight ;</span><span style="color: #008000;"><br /></span><span style="color: #008080;">473</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /></span><span style="color: #000000;">            </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.objProperty(document,</span><span style="color: #000000;">"</span><span style="color: #000000;">Height</span><span style="color: #000000;">"</span><span style="color: #000000;">);<br /></span><span style="color: #008080;">474</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">475</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />    }</span></span><span style="color: #000000;">,<br /></span><span style="color: #008080;">476</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_14873_15406_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_14873_15406_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_14873_15406_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_14873_15406_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_14873_15406_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_14873_15406_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_14873_15406_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_14873_15406_Open_Text').style.display='inline';" />    width : </span><span style="color: #0000ff;">function</span><span style="color: #000000;">() </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_14873_15406_Closed_Text">...</span><span id="CodeHighlighter1_14873_15406_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">477</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_14929_15333_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_14929_15333_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_14929_15333_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_14929_15333_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_14929_15333_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_14929_15333_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_14929_15333_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_14929_15333_Open_Text').style.display='inline';" />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> ( </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.browser.msie </span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.browser.version </span><span style="color: #000000;">&lt;</span><span style="color: #000000;">7</span><span style="color: #000000;"> ) </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_14929_15333_Closed_Text">...</span><span id="CodeHighlighter1_14929_15333_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">478</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> scrollWidth </span><span style="color: #000000;">=</span><span style="color: #000000;"> Math.max(<br /></span><span style="color: #008080;">479</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                document.documentElement.scrollWidth,<br /></span><span style="color: #008080;">480</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                document.body.scrollWidth<br /></span><span style="color: #008080;">481</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            );<br /></span><span style="color: #008080;">482</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> offsetWidth </span><span style="color: #000000;">=</span><span style="color: #000000;"> Math.max(<br /></span><span style="color: #008080;">483</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                document.documentElement.offsetWidth,<br /></span><span style="color: #008080;">484</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                document.body.offsetWidth<br /></span><span style="color: #008080;">485</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            );<br /></span><span style="color: #008080;">486</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            <br /></span><span style="color: #008080;">487</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_15187_15293_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_15187_15293_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_15187_15293_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_15187_15293_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_15187_15293_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_15187_15293_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_15187_15293_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_15187_15293_Open_Text').style.display='inline';" />            </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (scrollWidth </span><span style="color: #000000;">&lt;</span><span style="color: #000000;"> offsetWidth) </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_15187_15293_Closed_Text">...</span><span id="CodeHighlighter1_15187_15293_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">488</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #008000;">//</span><span style="color: #008000;">return document.documentElement[ "clientWidth"];</span><span style="color: #008000;"><br /></span><span style="color: #008080;">489</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /></span><span style="color: #000000;">                </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.objProperty(window,</span><span style="color: #000000;">"</span><span style="color: #000000;">Width</span><span style="color: #000000;">"</span><span style="color: #000000;">);<br /></span><span style="color: #008080;">490</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_15299_15329_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_15299_15329_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_15299_15329_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_15299_15329_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_15299_15329_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_15299_15329_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_15299_15329_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_15299_15329_Open_Text').style.display='inline';" />            }</span></span><span style="color: #000000;"> </span><span style="color: #0000ff;">else</span><span style="color: #000000;"> </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_15299_15329_Closed_Text">...</span><span id="CodeHighlighter1_15299_15329_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">491</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> scrollWidth;<br /></span><span style="color: #008080;">492</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />            }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">493</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_15339_15403_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_15339_15403_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_15339_15403_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_15339_15403_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_15339_15403_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_15339_15403_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_15339_15403_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_15339_15403_Open_Text').style.display='inline';" />        }</span></span><span style="color: #000000;"> </span><span style="color: #0000ff;">else</span><span style="color: #000000;"> </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_15339_15403_Closed_Text">...</span><span id="CodeHighlighter1_15339_15403_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">494</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            <br /></span><span style="color: #008080;">495</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.objProperty(document,</span><span style="color: #000000;">"</span><span style="color: #000000;">Width</span><span style="color: #000000;">"</span><span style="color: #000000;">);<br /></span><span style="color: #008080;">496</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">497</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />    }</span></span><span style="color: #000000;">,<br /></span><span style="color: #008080;">498</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_15447_16667_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_15447_16667_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_15447_16667_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_15447_16667_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_15447_16667_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_15447_16667_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_15447_16667_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_15447_16667_Open_Text').style.display='inline';" />    objProperty : </span><span style="color: #0000ff;">function</span><span style="color: #000000;">( target,name ) </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_15447_16667_Closed_Text">...</span><span id="CodeHighlighter1_15447_16667_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">499</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #008000;">//</span><span style="color: #008000;"> Get window width or height</span><span style="color: #008000;"><br /></span><span style="color: #008080;">500</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /></span><span style="color: #000000;">        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> target </span><span style="color: #000000;">==</span><span style="color: #000000;"> window </span><span style="color: #000000;">?</span><span style="color: #000000;"><br /></span><span style="color: #008080;">501</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #008000;">//</span><span style="color: #008000;"> Opera reports document.body.client[Width/Height] properly in both quirks and standards</span><span style="color: #008000;"><br /></span><span style="color: #008080;">502</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /></span><span style="color: #000000;">            </span><span style="color: #008000;">//</span><span style="color: #008000;">Fix opera Height</span><span style="color: #008000;"><br /></span><span style="color: #008080;">503</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /></span><span style="color: #000000;">            </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.browser.opera </span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;"> ( name </span><span style="color: #000000;">==</span><span style="color: #000000;"> </span><span style="color: #000000;">"</span><span style="color: #000000;">Height</span><span style="color: #000000;">"</span><span style="color: #000000;"> </span><span style="color: #000000;">?</span><span style="color: #000000;"> document.documentElement.clientHeight : document.body[ </span><span style="color: #000000;">"</span><span style="color: #000000;">client</span><span style="color: #000000;">"</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> name ]) </span><span style="color: #000000;">||</span><span style="color: #000000;"><br /></span><span style="color: #008080;">504</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /><br /></span><span style="color: #008080;">505</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #008000;">//</span><span style="color: #008000;"> Safari reports inner[Width/Height] just fine (Mozilla and Opera include scroll bar widths)</span><span style="color: #008000;"><br /></span><span style="color: #008080;">506</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /></span><span style="color: #000000;">            </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.browser.safari </span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;"> window[ </span><span style="color: #000000;">"</span><span style="color: #000000;">inner</span><span style="color: #000000;">"</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> name ] </span><span style="color: #000000;">||</span><span style="color: #000000;"><br /></span><span style="color: #008080;">507</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /><br /></span><span style="color: #008080;">508</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #008000;">//</span><span style="color: #008000;"> Everyone else use document.documentElement or document.body depending on Quirks vs Standards mode</span><span style="color: #008000;"><br /></span><span style="color: #008080;">509</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /></span><span style="color: #000000;">            document.compatMode </span><span style="color: #000000;">==</span><span style="color: #000000;"> </span><span style="color: #000000;">"</span><span style="color: #000000;">CSS1Compat</span><span style="color: #000000;">"</span><span style="color: #000000;"> </span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;"> document.documentElement[ </span><span style="color: #000000;">"</span><span style="color: #000000;">client</span><span style="color: #000000;">"</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> name ] </span><span style="color: #000000;">||</span><span style="color: #000000;"> document.body[ </span><span style="color: #000000;">"</span><span style="color: #000000;">client</span><span style="color: #000000;">"</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> name ] :<br /></span><span style="color: #008080;">510</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /><br /></span><span style="color: #008080;">511</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #008000;">//</span><span style="color: #008000;"> Get document width or height</span><span style="color: #008000;"><br /></span><span style="color: #008080;">512</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /></span><span style="color: #000000;">            target </span><span style="color: #000000;">==</span><span style="color: #000000;"> document </span><span style="color: #000000;">?</span><span style="color: #000000;"><br /></span><span style="color: #008080;">513</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #008000;">//</span><span style="color: #008000;"> Either scroll[Width/Height] or offset[Width/Height], whichever is greater</span><span style="color: #008000;"><br /></span><span style="color: #008080;">514</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /></span><span style="color: #000000;">                </span><span style="color: #008000;">//</span><span style="color: #008000;">Fix opera Width</span><span style="color: #008000;"><br /></span><span style="color: #008080;">515</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /></span><span style="color: #000000;">                </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.browser.opera </span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;"> name</span><span style="color: #000000;">==</span><span style="color: #000000;">"</span><span style="color: #000000;">Width</span><span style="color: #000000;">"</span><span style="color: #000000;"> </span><span style="color: #000000;">?</span><span style="color: #000000;"> <br /></span><span style="color: #008080;">516</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                    document.documentElement[</span><span style="color: #000000;">"</span><span style="color: #000000;">client</span><span style="color: #000000;">"</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> name]<br /></span><span style="color: #008080;">517</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                    : Math.max(<br /></span><span style="color: #008080;">518</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                    document.documentElement[</span><span style="color: #000000;">"</span><span style="color: #000000;">client</span><span style="color: #000000;">"</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> name],<br /></span><span style="color: #008080;">519</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                    Math.max(document.body[</span><span style="color: #000000;">"</span><span style="color: #000000;">scroll</span><span style="color: #000000;">"</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> name], document.documentElement[</span><span style="color: #000000;">"</span><span style="color: #000000;">scroll</span><span style="color: #000000;">"</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> name]),<br /></span><span style="color: #008080;">520</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                    Math.max(document.body[</span><span style="color: #000000;">"</span><span style="color: #000000;">offset</span><span style="color: #000000;">"</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> name], document.documentElement[</span><span style="color: #000000;">"</span><span style="color: #000000;">offset</span><span style="color: #000000;">"</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> name])<br /></span><span style="color: #008080;">521</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                ) : target[</span><span style="color: #000000;">"</span><span style="color: #000000;">client</span><span style="color: #000000;">"</span><span style="color: #000000;">+</span><span style="color: #000000;">name];<br /></span><span style="color: #008080;">522</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />    }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">523</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedBlockEnd.gif" />}</span></span><span style="color: #000000;">;</span></div></div></div></pre>
<p style="text-indent: 2em;"><strong>同时打开多个弹窗</strong></p>
<p style="text-indent: 2em;">其实我不知道这个功能实不实用，项目中有没有此需求，但是当时想做这个功能的时候我还是想支持多个弹窗，每个弹窗的大小或位置相互独立，互不影响，所以要做到这点，还不如完全支持多弹窗功能。但如果要对多个弹窗进行管理的话我想使用propotype不是很好，每一次创建一个弹窗就new Popup()？还是用一个静态类，里面放一个Array数组保存所有预载弹窗对象，根据getInstanceById方法根据初始化指定的Id获取弹窗，切换当前要操作的弹窗，返回this对象后就可直接再调用它的open、close等方法。</p>
<p style="text-indent: 2em;"><strong>遮掩的背景层</strong></p>
<p style="text-indent: 2em;">这个问题磨我很长时间，是这样，我每打开一个弹窗的时候就需要创建对应的透明overlay层，打开的弹窗是浮在这个遮掩的div层上面的，这个层的高度=document高度、宽度=document宽度，而弹窗是绝对定位并自动居中，top=(window高度-自身高度)/2+滚动条高度，left=(window宽度-自身宽度)/2，如果要做到浏览器兼容，就需要把获取宽度和高度信息的方法独立出来，我这里叫global，里面获取宽度、高度、浏览器的方法主要是参考的jQuery，但发现了它的一个bug，是在opera浏览器里测试发现的，使用jQuery的那套方法获取window的高度不正确，不信可以在opera浏览器里面调用$(window).height()方法，另外还有获取文挡的高度$(document).width()方法在opera里也不正确，返回的都比实际值偏高。为此我在global的objProperty静态方法都都加入了this.browser.opera &amp;&amp; name=="Width"或"Height"的特殊判断，这样我设置遮掩层的高度和宽度就是document高度和document宽度，保证是document的最大宽高度，能全部遮挡住整个页面，但又不超过当前的document的最大宽高度，不至于使页面产生滚动条。当然还有一个调用上的问题是：一定要在document完全load完后才调用获取document的宽高度的方法，如果在document还未解析完获取的就只是当前已加载的document宽高度，而加载完成后了的document宽高度就肯定不一样了。</p>
<p style="text-indent: 2em;"><strong>ie的z-index问题</strong></p>
<p style="text-indent: 2em;">众所周之，ie是众多浏览器里bug最多的一个，特别是ie6里有一些老大难的棘手问题，但是我们不能因为这一点点小的困难而放弃，想当年ie独占浏览器市场风光一时，那时候我想没有人骂ie吧，现在也就不能因为有Firefox、Chrome更多优秀的浏览器而埋怨它，就算是再优秀的浏览器只要是软件就有bug，我在ff的2.0版本里就发现过一个bug，我们也不能强制用户一定要到升级到更高浏览器版本，这样好象可能会违背用户的意愿，就像是作为一个程序开发员的我，就会有一种这样的逆反心理：当访问某一个网站被跳转提示说不能使用ie6浏览时，除开内容非看不可，我宁愿不看也不愿再多点下打开firefox浏览器去看，因为这样我会感觉非常的不爽。回到ie的问题上，ie里select不能被任何除开object和iframe元素遮挡，而iframe能被div遮挡，所以比较好的做法是先创建一个一样大的iframe遮挡住document，再创建一个div遮挡住iframe，有时候我们也可以绕开它的bug去解决它，我这里为了图方便就直接把页面所有的select隐藏掉，display:none或visibility:visible都能隐藏掉元素，但visibility:visible还能占位使页面布局保持不变，如果不想for循环页面所有select可以在css里预定义一个hideselect类{visibility:visible}，然后动态给body的className加上hideselect即可。另外ie的z-index还有一些潜规则，我在做position为absolute绝对定位层的时候发现这个问题，当有多个的浮动层的时候设置z-index可能无效，后来网上找了些资料发现ie的z-index是有stacking context这个因素的影响，不过元素处于同一级stacking level则由z-index决定，所以我在open()方法里加上判断if( target.parentNode != document.body ) document.body.insertBefore(target, document.body.childNodes[0]);把所有的弹窗层全部移动到body元素下面，仅多加上这一句就可以让ie乖乖的听z-index控制，所以说ie的问题还是好解决的嘛，发现我瞒喜欢沉浸在解决ie的一些css的bug之中。</p>
<p style="text-indent: 2em;"><strong>拖拽和缩放大小</strong></p>
<p style="text-indent: 2em;">在我Popup类有个eDrag方法用于实现元素的拖拽，有人曾说我封装不完成，事件没释放，确实好象存在这个问题，应该要把拖拽元素和要拖拽的句柄元素作为参数一并传递过来，不过先不管了，最重要的是简单方便调用就行了，没释放消耗着的是客户的内存，他也不知道关系。不过这个eDrag拖拽元素方法是网上比较流行，因为就这几行简单的代码兼容行很好，缩放大小跟拖拽类似，只不过是坐标加减时参数不一样，但如果在拖拽的元素中包含iframe会很"卡"，不管是在那种浏览器中，我觉得造成这种很"卡"的显示不是脚本有性能的问题，而是在你拖拽中浏览器要不断重绘渲染元素，这个过程很耗资源，特别是有iframe的时候，如果缩放大小时拖动太快会导致鼠标会偏移，如果跑到iframe里去就完了，鼠标移到这里都没办法结束拖拽。曾试着让拖拽的句柄元素覆盖在iframe之上，ie内可以解决问题，但ff内空的div覆盖iframe上不行，鼠标移上去还是算的iframe，后来干脆把iframe隐藏，就算鼠标位置偏移了拖拽也没问题，至少还是本页面元素，想一想其实这样做是对的，网上一般处理拖拽也是clone个div层只描绘出一个边框跑，看下window的窗体拖拽不也是拖着一个空框框。</p>
<p style="text-indent: 2em;"><strong>以后的扩展</strong></p>
<p style="text-indent: 2em;">在调用create方法初始化弹窗时，会在body下面创建个div弹窗层，如果是iframe那么也会被加载，就算从来没打开过弹窗但iframe也预载了，如果页面真的好有几个iframe的弹窗就会很慢，并且有点浪费资源，我在想是否初始化创建时候指定src初始值为about blank，然后在open里加多个可选参数refresh，用于刷新iframe的路径或重新指定新的一个地址。</p>
<p style="text-indent: 2em;">对弹窗定位，目前我都默认左右对齐上下居中，并且在弹窗打开的时候监视window的resize事件，自动对齐居中。我在想再监视一个scroll拉滚动条事件，然后在settings里加2个vertical和align属性设置对齐方式，并加个开关可设置遮掩的背景层是否显示，让弹窗可以浮动在页面的某一个位置，这样不就又多种功能吗？</p>
<p style="text-indent: 2em;"><strong>结束语：</strong></p>
<p style="text-indent: 2em;">这个算是我使用jQuery后写的第一个较正式的js类库，08年开始接触jQuery，就被它的dom筛选器给吸引，但老实说还未能全看明白它的源代码，有次自己写js的时候发现和jQuery有点冲突，所以就决定以后不想再依赖jQuery这个重量级的框架，本身它的脚本文件也不小，而我们用到的只是小部分功能，如果要自己写js来实现，像dom筛选器的取一个列表的，我一般会在最外面的容器加个id，然后尽量不使用class做为条件，使用childNodes、getElementsByTagName获取元素，如果需要的话再加上一个nodeType!=3空元素的判断，自己可以做个简单的函数封装下，基本上也能满足需求。像是Ajax，其实自己写几行代码就搞定了，用着这么麻烦依赖别人的框架吗？所以还是支持大家自己动手，Do it yourself！</p>
</div>
			</div>
			<script type="text/javascript" src="/styles/index/scripts/ImgLazy.js"></script>
	        <script type="text/javascript">new ImgLazy( { selector : 'content', maxWidth : document.getElementById('content').offsetWidth, loadSrc : '/styles/index/css/default/images/lazyloading.gif' });</script>

			<div class="tags">标签：<a href="/jonllen/js/">JavaScript</a> 
			    
			    
			</div>

			<div class="desc">
			  <ul>
				<li>posted@ 2009-07-08 11:59</li>
				<li>update@ 2010-02-24 20:37:46</li>
				<li>阅读(<span id="articleClick">26829</span>)</li>
				<li>评论(0)</li>
				
			  </ul>
			</div>
			<script type="text/javascript" src="/styles/index/scripts/ad.js"></script>

		</div>
<div class="context">
			<ul>
				<li>上一篇：<a href="/jonllen/js/photo.html">摆脱JQuery—之自定义图片缩略图列表滚动功能。</a></li>
<li>下一篇：<a href="/jonllen/js/41.html">摆脱JQuery—之自定义Dom筛选器</a></li></ul>
		</div>
		

<div class="correlative">
	
		    <h4>相关文章</h4>
			<ul>



			</ul>
		
</div>

		
		<div class="comment">
			<div class="title">评论</div>
			<div class="commentlist" id="commentContent">
				

				<div id="commentNothing" class="nothing">
	暂无任何评论。
</div>
			</div>
		</div>
		<div class="postcomment">
	        <div class="title">发表评论<a id="comment"></a></div>
	        <div class="box">
		        <div class="fi"><label>用户名</label><input id="txtUserName" type="text" value="" class="text" title="请输入显示用户名称" /><span class="note">*必填</span></div>
		        
		        
		        <div class="fi"><label>网站链接</label><input id="txtWebsite" type="text" class="text" title="请输入您的网站链接地址以便回访（非必填）" /></div>
		        
		        <div class="fi"><label>邮箱地址</label><input id="txtEmail" type="text" class="text" title="请输入您的邮箱地址以便回复（非必填）" /><input id="chkEmailNotify" type="checkbox" title="当博主回复时以邮件通知我" />回复通知我</div>
		        <div class="fi"><label>内容</label><textarea id="txtContent" class="textarea"></textarea><span class="note">*必填</span></div>
		        <div class="btn"><input type="button" class="submit" onclick="postComment()" value="提交" /></div>
	        </div>
        </div>
        <script type="text/javascript" src="/styles/index/scripts/ajax.js"></script>
        <script type="text/javascript">
            function postComment()
		    {
		        var url = "/plugin/web/doSaveComment.do?sourcetype=1&sourceid=38&siteId=1";
		        var data = "username="+encodeURIComponent(document.getElementById("txtUserName").value);
		        data += '&sourceurl=/jonllen/js/js-popup.html';
		        data += "&content="+ encodeURIComponent(document.getElementById("txtContent").value);
		        var pwd = document.getElementById("txtPassword");
		        if (pwd!=null)
		        {
		            data += "&pwd="+ pwd.value;
		        }
		        var website = document.getElementById("txtWebsite");
		        if (website!=null)
		        {
		            data += "&website="+ website.value;
		        }
		        data += "&email="+ encodeURIComponent(document.getElementById("txtEmail").value);
		        data += "&emailNotify="+ encodeURIComponent(document.getElementById("chkEmailNotify").checked);
		        Ajax.send({
		            type : "POST",
		            url : url,
		            data : data,
		            fn : function (data){
	                    var rs;
	                    try{rs=eval("rs="+data);}catch(e){alert(e);return;}
                        
	                    if (rs.success)
	                    {
	                        appendComment();
	                        if(document.getElementById('commentNothing')!=null){ 
	                          document.getElementById('commentNothing').style.display = 'none';
	                        }
	                        document.getElementById("txtContent").value = "";
	                        alert("提交评论成功！");
	                    }else
	                    {
	                        alert(rs.error);
	                    }
                            }
		        });
		    }

function appendComment()
		    {
var itemComment = document.createElement('div');
itemComment.className = 'item';
var username = document.getElementById("txtUserName").value;
var index = document.getElementById('commentContent').getElementsByTagName('ul').length + 1;
var content =  document.getElementById("txtContent").value;
itemComment.innerHTML = '<div class="desc"><ul class="options"><li><a href="javascript:;" onclick="quote(this,\''+username+'\')">引用</a></li></ul><a>'+index+'楼</a> '+username+'</div><div class="cont">'+content+'</div>';
document.getElementById('commentContent').appendChild(itemComment);
}

            function addClick()
		    {
		        var url = "/plugin/web/doAddClick.do?columnType=1&documentId=38";
		        Ajax.send({
		            type : "GET",
		            url : url,
		            fn : function (data){
		                 var clickElem = document.getElementById('articleClick');
		                 if(clickElem !=null) clickElem.innerHTML = data; 
		            }
		        });

		    }
            addClick();
        </script>
		
	</div>
	<script type="text/javascript">
	    function zoom(size)
	    {
	        var content = document.getElementById("content");
	        content.style.fontSize = size+"px";
	        for(var i=0;i<content.childNodes.length;i++)
	        {
	            if(content.childNodes[i].nodeType==1)
	                content.childNodes[i].style.fontSize = size+"px";
	        }
	    }
	    
	    function quote(target,name)
	    {
	        var content = name+"："+target.parentNode.parentNode.parentNode.nextSibling.innerHTML;
	        var reply = document.getElementById("txtContent");
	        if (reply==null) return;
	        reply.value += "[quote]"+content.replace(/<br>/ig,'\n\r')+"[/quote]\n";
	        reply.focus();
	        
            var r = reply.createTextRange();
            r.moveStart('character',reply.innerHTML.length);
            r.collapse(true);
            r.select();
            
            //replace <fieldset(\S|\s)+?legend>(\S|\s)+</fieldset> to [quote]$2[/quote]
	    }
	</script>
 


        </div>
	</div>
	<div id="ctl00_panRight" class="siderRight column column3">
	
<div id="mod29" class="mod recommend">
    <h4 class="head">博文推荐</h4>
    <div class="cont">
	    <ul>
                    
		    <li><a href="/jonllen/js/107.html">博客个性化定制(2)-实现类似iGoogle首页功能</a>(2010-03-21)</li>
                    

	    </ul>
    </div>
</div>
<div id="mod30" class="mod comment">
    <h4 class="head">最新评论</h4>
    <div class="cont">
	    <ul>
		    

<li><a href="/jonllen/js/178.html#comment"><b>zlc</b>：你好，你https://github.com/lifesreason/SM2 这个库中除了一个test.html和test.aes-sm.html 的示例其他的 都没有 ，你方便挂上去吗？签名验签的这个我用https://www.npmjs.com/package/sm-crypto  这个库 后端无法签签，老的项目是用的你现在的这个库 可我并没有在你的例子中看到签名的方法，如果方便能提供一下嘛？</a></li>

<li><a href="/jonllen/js/178.html#comment"><b>5</b>：[quote]ywq：你好，能提供下js实现国密sm2加解密的下载链接吗?您提供的html里加载的js都是必须的吗[/quote]
</a></li>

<li><a href="/jonllen/js/178.html#comment"><b>5</b>：[quote]ywq：你好，能提供下js实现国密sm2加解密的下载链接吗?您提供的html里加载的js都是必须的吗[/quote]
</a></li>

<li><a href="/jonllen/work/162.html#comment"><b>hjc</b>：楼主能否发一份源码参考一下 感谢！邮箱地址18234105447@163.com</a></li>

<li><a href="/jonllen/work/162.html#comment"><b>hjc</b>：楼主能否发一份源码参考一下 感谢！</a></li>

	    </ul>
    </div>
</div>
 
<div id="mod31" class="mod recent">
    <h4 class="head">最近发表</h4>
    <div class="cont">
	    <ul>

                    
		    <li><a href="/jonllen/work/800.html">2015年度工作总结</a>(2015-12-31)</li>
                    
		    <li><a href="/jonllen/travel/801.html">靖港古镇游</a>(2015-11-29)</li>
                    
		    <li><a href="/jonllen/js/179.html">使用ECharts报表统计公司考勤加班，大家加班多吗？</a>(2015-06-05)</li>
                    
		    <li><a href="/jonllen/js/178.html">JavaScript实现SM2算法加解密</a>(2014-10-28)</li>
                    
		    <li><a href="/jonllen/breast/177.html">2014年国庆</a>(2014-10-04)</li>
                    
	    </ul>
    </div>
</div>
 
<div id="mod36" class="mod search">
	<h4 class="head">搜索</h4>
	<div class="cont">
		<form action="/search/" method="get">
	        <input type="text" name="key" class="text" value="" placeholder="输入搜索内容" />
	        <input type="submit" class="btn" value="搜索" />
	    </form>
	</div>
</div>
 
<div id="mod32" class="mod click">
    <h4 class="head">关注最多</h4>
    <div class="cont">
	    <ul>
                    
		    <li><a href="/jonllen/work/164.html">SM2非对称算法加解密</a>(35707)</li>
                    
		    <li><a href="/jonllen/aspnet/tinymce.html">TinyMce在线编辑器完美打造成Asp.Net服务器自定义控件</a>(32864)</li>
                    
		    <li><a href="/jonllen/work/162.html">国密算法SM2证书制作</a>(32559)</li>
                    
		    <li><a href="/jonllen/js/js-popup.html">摆脱JQuery—之自定义模拟弹窗层功能。</a>(26829)</li>
                    
		    <li><a href="/jonllen/aspnet/pd.html">使用PowerDesigner的物理模型创建升级管理数据库</a>(24306)</li>
                    
	    </ul>
    </div>
</div>
 
</div>
</div>

<div class="auto" id="foot">
    <div class="wrapper">
	Powered By ：Jonllen  <a href="http://www.miibeian.gov.cn" target="_blank">粤ICP备10049366号</a>
	</div>
</div>
 
<script type="text/javascript" src="/styles/index/scripts/Drag.js"></script>
<script type="text/javascript" src="/styles/index/scripts/Tooltip.js" ></script>
<div style="display:none"> 
    <script type="text/javascript" src="/styles/index/scripts/statistics.js"></script>
</div>
</body>
</html>