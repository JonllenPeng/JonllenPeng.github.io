
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>博客个性化定制(2)-实现类似iGoogle首页功能 - JavaScript - 金龙博客</title>
<meta name="description" content="继上一篇博客个性化定制功能后，今天我又花了足足一天时间，实现了使用js拖拽定制模块功能。主要包括三大块功能：1.拖拽模块；2.计算坐标位置；3.完成拖拽，保存当前布局位置。" />
<link href="/styles/index/css/default/index.css" id="linkIndex" rel="stylesheet" type="text/css" />
<link href="/styles/index/css/default/template2.css" id="linkTemplate" rel="stylesheet" type="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script type="text/javascript" src="/styles/index/scripts/ajax.js"></script>
</head>
<body>
<div id="toolbar">
	<div class="auto fixft" >
	    <a href="/" class="home"><span>首页</span><img alt="logo" src="/styles/index/css/default/images/logo_small.gif" /></a>
		
		<!--<form id="loginFrom" name="loginFrom" onsubmit="return loginEncrypt();" action="/User/Login.aspx"  method="post" target="loginIfr">
		    <input type="hidden" id="hdEncrypted" name="hdEncrypted" value="" />
		    <div class="login">
			    <span class="ico">用户名：</span>
			    <input id="username" name="username" onfocus="loadEncryptScript()" class="text" type="text" />
			    密码：<input id="password" name="password" onfocus="loadEncryptScript()" class="text" type="password" />
			    <input id="btnLogin" class="btn" type="submit" value="登录" />
			    
			    <a href="#" onclick="location='https://localhost/Passport';" >安全登录</a>
			    
		    </div>
		</form>
		<iframe id="loginIfr" name="loginIfr" scrolling="no" frameborder="0" width="0" height="0"></iframe>
        <script type="text/javascript">
            function loadEncryptScript(){
                if( typeof(encryptScript) == 'undefined') {
                    
                    document.getElementById('btnLogin').disabled = true;
                    
                    encryptScript = document.createElement('script');
                    encryptScript.type = 'text/javascript';
                    encryptScript.src = '/Ajax/RSAEncrypt.aspx?callback=loadEncryptScriptCallback';
                    var currScriptElem = document.getElementsByTagName('script')[0];
                    currScriptElem.parentNode.insertBefore(encryptScript, currScriptElem);
                }
            }
            function loadEncryptScriptCallback(){
                document.getElementById('btnLogin').disabled = false;
            }
            function loginEncrypt(){
                
                var pwdElem = document.getElementById('password');
                var encryptedPassword = RSAEncrypt(pwdElem.value);
                pwdElem.value = encryptedPassword;
                document.getElementById('hdEncrypted').value = 'RSA';
                return true;
            }
        </script>-->
		
		<div class="skin">
			<ul id="skinlist">
			    <li class="first">　切换风格：</li>
			    <li id="temp2" class="on"><a class="green" href="javascript:toggleTemplate(2, '/styles/index/css/default/index.css', false);"  title="切换风格：大自然绿">大自然绿</a></li><li id="temp3" class=""><a class="blue" href="javascript:toggleTemplate(3, '/styles/index/css/blue/index.css', false);"  title="切换风格：深蓝海">深蓝海</a></li><li id="temp4" class=""><a class="red" href="javascript:toggleTemplate(4, '/styles/index/css/guoqing/index.css', false);"  title="切换风格：国庆专题">国庆专题</a></li><li id="temp6" class=""><a class="christmas" href="javascript:toggleTemplate(6, '/styles/index/css/christmas/index.css', false);"  title="切换风格：圣诞节">圣诞节</a></li><li id="temp7" class=""><a class="simple" href="javascript:toggleTemplate(7, '/styles/index/css/simple/index.css', false);"  title="切换风格：简单线条">简单线条</a></li>
			</ul>
		</div>
		<div class="display">
		    <ul>
		        <li>　<!--版面：--></li>
		        <!--<li><a href="#" onclick="location='?display=1';" class="">左-中</a> | </li>
		        <li><a href="#" onclick="location='?display=2';" class="on">左-中-右</a> | </li>
		        <li><a href="#" onclick="location='?display=3';" class="">中-右</a> | </li>
		        <li><a href="#" onclick="location='?display=4';" class="">中</a></li>-->
		    </ul>
		</div>
	</div>
</div>
<div class="auto" id="top" style="" >
	<div class="title">
	    <h3>jonllen</h3>
	    <h4>金龙，目前就职于一家软件公司，从事Java和.Net信息安全开发设计。
</h4>
	</div>
</div>
<div class="auto" id="nav" >
	<ul id="navigation">
		<li><a href="/">首页</a></li>
        <li><a href="/jonllen/aspnet/" class="up" >Asp.Net</a></li>
<li><a href="/jonllen/work/"  >工作</a></li>
		<li><a class="up" href="/album/">相册</a></li>
		<li><a href="/leave/">留言</a></li>
		<li class="preview"></li>
	</ul>
</div>
<script type="text/javascript"> 
(function (){
    var select, navlist = document.getElementById('navigation').getElementsByTagName('li');
    for(var i=0;i<navlist.length;i++)
    {
        if ( navlist[i].className=='preview') continue;
        var link = navlist[i].getElementsByTagName('a')[0];
        if ( link && window.location.href.toLowerCase().indexOf(link.href.toLowerCase())>-1 )
        {
            select = link;
        }
    }
    if( select!=undefined )
    {
        select.parentNode.className = "on";
    }
})();
function toggleTemplate(tempId, skinSrc, additionalHtml){
    if( additionalHtml) {
        location='?tempid='+tempId;
        return true;
    }
    
    var linkIndexElem = document.getElementById('linkIndex');
    var linkIndexHref = '' + skinSrc;
    linkIndexElem.href = '';
    linkIndexElem.href = linkIndexHref;
    
    var linkTemplateElem = document.getElementById('linkTemplate');
    var linkTemplateHref = linkIndexHref.substr(0, linkIndexHref.lastIndexOf('/') ) + linkTemplateElem.href.substr(linkTemplateElem.href.lastIndexOf('/'));
    linkTemplateElem.href = '';
    linkTemplateElem.href = linkTemplateHref;
    
    var skinName = 'Skin';
    var skinValue = '0='+tempId;
    var skinDate = new Date();
    skinDate.setTime(skinDate.getTime() + 1000 * 60 * 120 );
    document.cookie = skinName + '=' + skinValue + '; path=/; expires=' + skinDate.toGMTString();
    
    var templatelist = document.getElementById('skinlist').getElementsByTagName('li');
    for(var i=0;i<templatelist.length;i++){
        var templateli = templatelist[i];
        if (templateli.className == 'on')
            templateli.className = '';
        if( templateli.id == 'temp' + tempId)
            templateli.className = 'on';
    }
}
</script>

<div id="main" class="auto container">
    <div id="ctl00_panLeft" class="siderLeft column column1">
	
<div id="mod25" class="mod info">
	<div class="head"><strong class="ico">个人档案</strong></div>
	<div class="cont">
		<dl>
			<dt><a href="/jonllen/"><img src="/upload/jonllen/upload/wolf.gif" defaultsrc="/styles/index/css/default/images/ico_default.gif" onerror="if(this.src.indexOf(this.getAttribute('defaultsrc'))==-1) this.src=this.getAttribute('defaultsrc');" /><br />jonllen</a></dt>
			<dd><a href="/breast/" class="profile">心情闪存</a> | <a href="/leave/" class="article">给他留言</a></dd>
			<!--<dd><a href="/rss.aspx" target="_blank" class="rss">RSS网志</a> | <a href="/profile.aspx" class="">个人档案</a></dd>-->
			<dd>妮称：jonllen</dd>
			<dd>来自：中国. 湖南. 湘潭</dd>
			<dd>简述：金龙，目前就职于一家软件公司，从事Java和.Net信息安全开发设计。
</dd>
		</dl>
	</div>
</div>
<div id="mod26" class="mod calendar">
	<div class="head"><strong class="ico">博客日历</strong></div>
	<div id="calendar" class="cont"></div>
	<script type="text/javascript" language="javascript" src="/styles/index/scripts/DatePicker/WdatePicker.js" ></script>
    <script type="text/javascript" language="javascript">
        function ePicked(dp)
        {
            for(var i=0;i<archive.length;i++)
            {
                //if(archive[i]==dp.cal.getDateStr())
                    //window.location = '/archive/' + dp.cal.getDateStr() + '.aspx';
            }
        }
        
            function getArticleArchive()
		    {
		        var url = "/plugin/web/getArticleArchive.do?coluidpath=500&colutype=1";		        		        
		        Ajax.send({
		            type : "GET",
		            url : url,
		            fn : function (data){
	                    var rs;
	                    try{rs=eval("rs="+data);}catch(e){alert(e);return;}
                        
	                    if (rs.success)
	                    {
	                        var archive = [];
	                        if(rs.data) archive = rs.data.split(',');
	                        window.archive = archive;
	                        WdatePicker( { eCont :'calendar', firstDayOfWeek :1, specialDates :archive.length > 0 ? archive : null, onpicked :ePicked, startDate:'2010-03-21' } );
 	                    }else
	                    {
	                        alert(rs.error);
	                    }
                            }
		        });
		    }
        setTimeout(getArticleArchive,0);
    </script>
</div>
<div id="mod27" class="mod category">
	<div class="head"><strong class="ico">分类文档</strong></div>
	<div class="cont">
		<ul>

			
			        <li>
			            
			            <a href="/jonllen/reflection/" >
			                三日必省吾身<!-- (0)-->
			            </a>
			        </li>
			
			        <li>
			            
			            <a href="/jonllen/remark/" >
			                备忘录<!-- (0)-->
			            </a>
			        </li>
			
			        <li>
			            
			            <a href="/jonllen/it/" >
			                业界<!-- (0)-->
			            </a>
			        </li>
			
			        <li>
			            
			            <a href="/jonllen/css/" >
			                CSS<!-- (0)-->
			            </a>
			        </li>
			
			        <li>
			            
			            <a href="/jonllen/flex/" >
			                Flex<!-- (0)-->
			            </a>
			        </li>
			
			        <li>
			            
			            <a href="/jonllen/db/" >
			                数据库<!-- (0)-->
			            </a>
			        </li>
			
			        <li>
			            
			            <a href="/jonllen/java/" >
			                Java<!-- (0)-->
			            </a>
			        </li>
			
			        <li>
			            
			            <a href="/jonllen/work/" >
			                工作<!-- (0)-->
			            </a>
			        </li>
			
			        <li>
			            
			            <a href="/jonllen/breast/" >
			                心情笔记<!-- (0)-->
			            </a>
			        </li>
			
			        <li>
			            
			            <a href="/jonllen/aspnet/" >
			                Asp.Net<!-- (0)-->
			            </a>
			        </li>
			
			        <li>
			            
			            <a href="/jonllen/js/" >
			                JavaScript<!-- (0)-->
			            </a>
			        </li>
			
			        <li>
			            
			            <a href="/jonllen/album/" >
			                我的相册<!-- (0)-->
			            </a>
			        </li>
			
		</ul>
	</div>
</div>
 
<!--<div id="mod28" class="mod links">
	<div class="head"><strong class="ico">友情链接</strong></div>
	<div class="cont">
		<ul>
                    
		    <li><a href="http://www.applezqp.com" title="老平同志，高妹。" target="_blank">applezqp</a></li>
                    
		    <li><a href="http://www.thjy.org" title="天河部落教育博客" target="_blank">天河部落</a></li>
                    
		    <li><a href="http://weibo.com/zjj" title="时代财富张静君的微博" target="_blank">张静君</a></li>
                    
		    <li><a href="http://www.fortuneage.com" title="广州网站建设" target="_blank">时代财富</a></li>
                    
		</ul>
	</div>
</div>-->
 
</div>

	<div class="siderMiddle">
	    <div class="content column column2">
            

    <div class="articlecont">
        <div class="position">
		    <strong>当前位置：</strong>
		    <a href="http://www.jonllen.com">首页</a>
		     > <a href="/jonllen/js/">JavaScript</a>
		     > <a href="/jonllen/js/107.aspx">博客个性化定制(2)-实现类似iGoogle首页功能</a>
		</div>
        <div class="article">
			<div class="title"><h2>博客个性化定制(2)-实现类似iGoogle首页功能</h2></div>
			<div class="category">分类：<a href="/jonllen/js/">JavaScript</a></div>
			<div class="fontZoom"><a href="javascript:zoom(20);" style="font-size:large; font-weight:700">大</a><a href="javascript:zoom(14);" style="font-size:14px; font-weight:500;">中</a><a href="javascript:zoom(10);">小</a></div>
			<div class="cont" id="content">
				<div style="font-size: 14px; line-height: 30px;">
<p style="text-indent: 2em;">继上一篇<a href="/jonllen/aspnet/106.aspx">博客个性化定制功能</a>后，今天我又花了足足一天时间，实现了使用js拖拽定制模块功能。主要包括三步：1.拖拽模块；2.计算坐标位置；3.完成拖拽，保存当前布局位置。</p>
<p style="text-indent: 2em;"><strong>一、拖拽功能</strong></p>
<p style="text-indent: 2em;">如果只单实现简单的拖拽功能，那其实很简单，就只要注意拖拽时选中文本一些问题。由于我这里还拖拽有一些区域限制等，模块又都是从后台动态输出的，就做成一个函数类，可能实现出来就没那么通用了。拖拽的过程一般我们会用到几个事件：鼠标开始按下onmousedown事件，拖动事件onmousemove，松开鼠标完成拖拽事件onmouseup。对于几个DOM元素都有相同的事件，一般不需要每个DOM元素逐一添加事件监听，可以添加一个事件到它们公共的父元素上，这样感觉更好，然后通过事件的target或srcElement捕获触发事件源元素，这里的拖拽也是这样来实现的，onmousedown事件是监听拖拽模块的父容器元素，这个方法有点不好的就是可能获得事件发生源并不是你想要的，可能获得的是它的子元素，所以这里可能还需要额外加一个是否为parentNode的判断。onmousedown事件第一步先要判断按的元素是否为可拖拽的句柄，然后再给document添加onmousemove、onmouseup事件。onmousemove里是主要的逻辑处理的事件，先根据event事件获取鼠标位置，然后设置拖拽模块的top和left值，最后使用window.getSelection ? window.getSelection().removeAllRanges() : document.selection.empty()来取消拖拽过程中选择文本。</p>
<p style="text-indent: 2em;"><strong>二、计算坐标位置</strong></p>
<p style="text-indent: 2em;">在拖拽模块过程还需要判断元素的坐标位置，因为拖动的模块只能放在指定的几个区域内，所以就需要动态判断是否在指定区域内容，在区域内的那个模块前，这些都需要根据元素的坐标来判断。先判断是否区域，区域栏为树直排列的容器，因此，只需要判断当前鼠标x坐标&gt;=区域x坐标，并且鼠标x坐标&lt;=区域x坐标+区域宽度即可。同理，确定区域后，判断模块是根据当前鼠标y坐标&gt;=模块y坐标，并且鼠标y坐标&lt;=模块y坐标+模块高度，相当于判断鼠标是否在某个元素上，依此可以定位当前拖放元素的区域模块位置，并insertBefore插入一个空元素顶位，再在onmouseup事件里把顶位的空元素替换为当前拖拽的元素，清空拖动时设置的position等样式。在拖放过程中，冒似在IE里计算还有点问题，有时候发现计算出来的位置不正确。另外还发现一个bug，在拖拽时如果用滑轮滚动页面，拖动的元素会滑落在鼠标位置，导致隔空拖动，因为拉滚动条的时候并不会触发onmousemove事件，去看了下iGoogle的首页，发现也存在这个问题，我想可能需要添加window.onscoll事件监视才能解决了。</p>
<p style="text-indent: 2em;"><strong>三、保存拖拽后位置</strong></p>
<p style="text-indent: 2em;">拖拽完成onmouseup事件处理相对简单，因为在onmousemove事件中已确认拖动模块的位置了即上面所说的顶位的空元素，此时只需要replaceChild为拖拽的模块，但还有一个重要的步骤，那就是前台与后台交互，把当前客户端拖拽后的模块位置状态保存起来，或是写入进数据库。这可能就是一个比较复杂的过程了，因为这干系到数据库表存放结构等，我这里的模块表存放字段有模块ID、区域ID、排序号等，所以客户端保存的时候至少要能获取这些信息，这里我在与后台动态输出模块时就有一个约定，那就是每个模块和区域的DIV里的id或class都包含这些信息，以便客户端能用js方便取到，至于排序则是遍历模块时可自动生成一个从1开始的序号，之后在是把这些信息传递到服务端保存，发送Ajax请求这里就不罗嗦了，使用iframe也行。不过我这里两种方法都没有用，因为用户登陆进后台也可以设置所有模块的栏位和排序，前台我暂只是用Cookie来临时保存所有模块的栏位和排序，不过以后要能在前台拖拽保存所有模块的栏位和排序也很简单了，加个动态页面响应Ajax请求保存所有模块的栏位和排序写入数据库即可。</p>
<p style="text-indent: 2em;"><strong>重要修复</strong>：使用添加mousewheel滚动鼠标滑轮事件修正隔空拖拽问题，但还需正确的计算出每次鼠标滑轮的距离。(2010-4-3 17:25)</p>
<p style="text-indent: 2em;">事例：<a href="/upload/jonllen/case/drag.html" target="_blank">Drag.html</a></p>
<p style="text-indent: 2em;">源码：<a href="/scripts/Drag.js" target="_blank">(Drag.js下载)</a></p>
<pre><div class="code"><div class="codetitle"><img title="展开" src="/codehighlighter/outliningIndicators/ContractedBlock.gif" onclick="this.src=this.title=='展开'?'/codehighlighter/outliningIndicators/ExpandedBlockStart.gif':'/codehighlighter/outliningIndicators/ContractedBlock.gif'; document.getElementById('HighlighterCode_634059135464531250').style.display=this.title=='展开'?'block':'none'; this.title=this.title=='展开'?'收缩':'展开'; " /><span>Drag.js</span></div><div class="codemain" id="HighlighterCode_634059135464531250" style="display: none;"><div><!--<br /><br />Code highlighting produced by Actipro CodeHighlighter (freeware)<br />http://www.CodeHighlighter.com/<br /><br />--><span style="color: #008080;">  1</span><img src="/codehighlighter/outliningIndicators/ExpandedBlockStart.gif" id="CodeHighlighter1_0_107_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_0_107_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_0_107_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_0_107_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedBlock.gif" style="display: none;" id="CodeHighlighter1_0_107_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_0_107_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_0_107_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_0_107_Open_Text').style.display='inline';" /><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_0_107_Closed_Text">/**/</span><span id="CodeHighlighter1_0_107_Open_Text"><span style="color: #008000;">/*</span><span style="color: #008000;"><br /></span><span style="color: #008080;">  2</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />** Author : Jonllen<br /></span><span style="color: #008080;">  3</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />** Create : 2010-03-21<br /></span><span style="color: #008080;">  4</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />** Update : 2010-04-03<br /></span><span style="color: #008080;">  5</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />** WebSite: http://www.jonllen.com/<br /></span><span style="color: #008080;">  6</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/ExpandedBlockEnd.gif" /></span><span style="color: #008000;">*/</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">  7</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/None.gif" /><br /></span><span style="color: #008080;">  8</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedBlockStart.gif" id="CodeHighlighter1_142_6013_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_142_6013_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_142_6013_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_142_6013_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedBlock.gif" style="display: none;" id="CodeHighlighter1_142_6013_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_142_6013_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_142_6013_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_142_6013_Open_Text').style.display='inline';" /></span><span style="color: #0000ff;">var</span><span style="color: #000000;"> Drag </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> ( settings ) </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_142_6013_Closed_Text">...</span><span id="CodeHighlighter1_142_6013_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">  9</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /><br /></span><span style="color: #008080;"> 10</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">for</span><span style="color: #000000;">(p </span><span style="color: #0000ff;">in</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.settings)<br /></span><span style="color: #008080;"> 11</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_185_275_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_185_275_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_185_275_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_185_275_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_185_275_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_185_275_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_185_275_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_185_275_Open_Text').style.display='inline';" />        </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_185_275_Closed_Text">...</span><span id="CodeHighlighter1_185_275_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;"> 12</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> ( </span><span style="color: #000000;">!</span><span style="color: #000000;">settings.hasOwnProperty(p) ) settings[p] </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.settings[p];<br /></span><span style="color: #008080;"> 13</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;"> 14</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.settings </span><span style="color: #000000;">=</span><span style="color: #000000;"> settings;<br /></span><span style="color: #008080;"> 15</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        <br /></span><span style="color: #008080;"> 16</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        <br /></span><span style="color: #008080;"> 17</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.columns </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.settings.column </span><span style="color: #000000;">?</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.getElementsByClassName(</span><span style="color: #0000ff;">this</span><span style="color: #000000;">.settings.column, </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.settings.container, </span><span style="color: #000000;">'</span><span style="color: #000000;">div</span><span style="color: #000000;">'</span><span style="color: #000000;">) : document.body.childNodes;<br /></span><span style="color: #008080;"> 18</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /><br /></span><span style="color: #008080;"> 19</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> _this </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">;<br /></span><span style="color: #008080;"> 20</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        <br /></span><span style="color: #008080;"> 21</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #008000;">//</span><span style="color: #008000;">down</span><span style="color: #008000;"><br /></span><span style="color: #008080;"> 22</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_579_6010_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_579_6010_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_579_6010_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_579_6010_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_579_6010_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_579_6010_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_579_6010_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_579_6010_Open_Text').style.display='inline';" /></span><span style="color: #000000;">        settings.container.onmousedown </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> (e)</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_579_6010_Closed_Text">...</span><span id="CodeHighlighter1_579_6010_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;"> 23</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        <br /></span><span style="color: #008080;"> 24</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            e </span><span style="color: #000000;">=</span><span style="color: #000000;"> window.event </span><span style="color: #000000;">||</span><span style="color: #000000;"> e;<br /></span><span style="color: #008080;"> 25</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            <br /></span><span style="color: #008080;"> 26</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> handle </span><span style="color: #000000;">=</span><span style="color: #000000;"> e.target </span><span style="color: #000000;">||</span><span style="color: #000000;"> e.srcElement;<br /></span><span style="color: #008080;"> 27</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">if</span><span style="color: #000000;">( </span><span style="color: #000000;">!</span><span style="color: #000000;">_this.hasClass(handle, _this.settings.handle) </span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;"> </span><span style="color: #000000;">!</span><span style="color: #000000;">_this.hasClass(handle.parentNode, _this.settings.handle) )<br /></span><span style="color: #008080;"> 28</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">return</span><span style="color: #000000;">;<br /></span><span style="color: #008080;"> 29</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                <br /></span><span style="color: #008080;"> 30</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            handle </span><span style="color: #000000;">=</span><span style="color: #000000;"> _this.hasClass(handle, _this.settings.handle) </span><span style="color: #000000;">?</span><span style="color: #000000;"> handle : handle.parentNode;<br /></span><span style="color: #008080;"> 31</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            <br /></span><span style="color: #008080;"> 32</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> mod </span><span style="color: #000000;">=</span><span style="color: #000000;"> handle.parentNode;<br /></span><span style="color: #008080;"> 33</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">if</span><span style="color: #000000;">( </span><span style="color: #000000;">!</span><span style="color: #000000;">_this.hasClass(mod, _this.settings.mod) )<br /></span><span style="color: #008080;"> 34</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">return</span><span style="color: #000000;">;<br /></span><span style="color: #008080;"> 35</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /><br /></span><span style="color: #008080;"> 36</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            mod.style.width </span><span style="color: #000000;">=</span><span style="color: #000000;"> mod.offsetWidth </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">px</span><span style="color: #000000;">'</span><span style="color: #000000;">;<br /></span><span style="color: #008080;"> 37</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            mod.style.height </span><span style="color: #000000;">=</span><span style="color: #000000;"> mod.offsetHeight </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">px</span><span style="color: #000000;">'</span><span style="color: #000000;">;<br /></span><span style="color: #008080;"> 38</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            mod.style.border </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">dashed 2px #cdcdcd</span><span style="color: #000000;">'</span><span style="color: #000000;">;<br /></span><span style="color: #008080;"> 39</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            mod.style.cssText </span><span style="color: #000000;">+=</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">filter :alpha(opacity=80);opacity :0.8;</span><span style="color: #000000;">'</span><span style="color: #000000;">;<br /></span><span style="color: #008080;"> 40</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            <br /></span><span style="color: #008080;"> 41</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">if</span><span style="color: #000000;">( _this.getStyle(mod, </span><span style="color: #000000;">'</span><span style="color: #000000;">position</span><span style="color: #000000;">'</span><span style="color: #000000;">) </span><span style="color: #000000;">!=</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">absolute</span><span style="color: #000000;">'</span><span style="color: #000000;"> )<br /></span><span style="color: #008080;"> 42</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                mod.style.position </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">absolute</span><span style="color: #000000;">'</span><span style="color: #000000;">;<br /></span><span style="color: #008080;"> 43</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            <br /></span><span style="color: #008080;"> 44</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> y </span><span style="color: #000000;">=</span><span style="color: #000000;"> parseInt(mod.offsetTop) </span><span style="color: #000000;">-</span><span style="color: #000000;"> e.clientY;<br /></span><span style="color: #008080;"> 45</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> x </span><span style="color: #000000;">=</span><span style="color: #000000;"> parseInt(mod.offsetLeft) </span><span style="color: #000000;">-</span><span style="color: #000000;"> e.clientX;<br /></span><span style="color: #008080;"> 46</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            <br /></span><span style="color: #008080;"> 47</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_1608_1656_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_1608_1656_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_1608_1656_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_1608_1656_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_1608_1656_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_1608_1656_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_1608_1656_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_1608_1656_Open_Text').style.display='inline';" />            </span><span style="color: #0000ff;">if</span><span style="color: #000000;">(e.preventDefault)</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_1608_1656_Closed_Text">...</span><span id="CodeHighlighter1_1608_1656_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;"> 48</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                e.preventDefault();<br /></span><span style="color: #008080;"> 49</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />            }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;"> 50</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            <br /></span><span style="color: #008080;"> 51</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> wheelScrollTop </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">0</span><span style="color: #000000;">, scrollTop </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">-</span><span style="color: #000000;">document.documentElement.scrollTop;<br /></span><span style="color: #008080;"> 52</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_1798_2434_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_1798_2434_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_1798_2434_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_1798_2434_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_1798_2434_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_1798_2434_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_1798_2434_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_1798_2434_Open_Text').style.display='inline';" />            </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> wheelEvent </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> (ev) </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_1798_2434_Closed_Text">...</span><span id="CodeHighlighter1_1798_2434_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;"> 53</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /><br /></span><span style="color: #008080;"> 54</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                ev </span><span style="color: #000000;">=</span><span style="color: #000000;"> ev </span><span style="color: #000000;">||</span><span style="color: #000000;"> window.event;<br /></span><span style="color: #008080;"> 55</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> direct </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">0</span><span style="color: #000000;">;<br /></span><span style="color: #008080;"> 56</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_1909_2024_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_1909_2024_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_1909_2024_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_1909_2024_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_1909_2024_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_1909_2024_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_1909_2024_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_1909_2024_Open_Text').style.display='inline';" />                </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (ev.wheelDelta) </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_1909_2024_Closed_Text">...</span><span id="CodeHighlighter1_1909_2024_Open_Text"><span style="color: #000000;">{ <br /></span><span style="color: #008080;"> 57</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                    direct </span><span style="color: #000000;">=</span><span style="color: #000000;"> ev.wheelDelta;<br /></span><span style="color: #008080;"> 58</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                    direct </span><span style="color: #000000;">+=</span><span style="color: #000000;"> direct </span><span style="color: #000000;">&gt;</span><span style="color: #000000;"> </span><span style="color: #000000;">0</span><span style="color: #000000;"> </span><span style="color: #000000;">?</span><span style="color: #000000;"> </span><span style="color: #000000;">-</span><span style="color: #000000;">8</span><span style="color: #000000;"> : </span><span style="color: #000000;">8</span><span style="color: #000000;">;<br /></span><span style="color: #008080;"> 59</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_2045_2183_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_2045_2183_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_2045_2183_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_2045_2183_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_2045_2183_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_2045_2183_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_2045_2183_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_2045_2183_Open_Text').style.display='inline';" />                }</span></span><span style="color: #000000;"> </span><span style="color: #0000ff;">else</span><span style="color: #000000;"> </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (ev.detail) </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_2045_2183_Closed_Text">...</span><span id="CodeHighlighter1_2045_2183_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;"> 60</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                    </span><span style="color: #008000;">//</span><span style="color: #008000;">ff</span><span style="color: #008000;"><br /></span><span style="color: #008080;"> 61</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /></span><span style="color: #000000;">                    direct </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">-</span><span style="color: #000000;">ev.detail;<br /></span><span style="color: #008080;"> 62</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                    direct </span><span style="color: #000000;">+=</span><span style="color: #000000;"> direct </span><span style="color: #000000;">&gt;</span><span style="color: #000000;"> </span><span style="color: #000000;">0</span><span style="color: #000000;"> </span><span style="color: #000000;">?</span><span style="color: #000000;"> </span><span style="color: #000000;">48</span><span style="color: #000000;"> : </span><span style="color: #000000;">-</span><span style="color: #000000;">48</span><span style="color: #000000;">;<br /></span><span style="color: #008080;"> 63</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />                }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;"> 64</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                <br /></span><span style="color: #008080;"> 65</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                wheelScrollTop </span><span style="color: #000000;">+=</span><span style="color: #000000;"> </span><span style="color: #000000;">-</span><span style="color: #000000;">direct;<br /></span><span style="color: #008080;"> 66</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">if</span><span style="color: #000000;">( wheelScrollTop </span><span style="color: #000000;">&lt;</span><span style="color: #000000;"> scrollTop )<br /></span><span style="color: #008080;"> 67</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_2309_2376_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_2309_2376_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_2309_2376_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_2309_2376_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_2309_2376_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_2309_2376_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_2309_2376_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_2309_2376_Open_Text').style.display='inline';" />                </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_2309_2376_Closed_Text">...</span><span id="CodeHighlighter1_2309_2376_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;"> 68</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                    wheelScrollTop </span><span style="color: #000000;">=</span><span style="color: #000000;"> scrollTop;<br /></span><span style="color: #008080;"> 69</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />                }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;"> 70</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /><br /></span><span style="color: #008080;"> 71</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                document.onmousemove(ev);<br /></span><span style="color: #008080;"> 72</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /><br /></span><span style="color: #008080;"> 73</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />            }</span></span><span style="color: #000000;">;<br /></span><span style="color: #008080;"> 74</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #008000;">//</span><span style="color: #008000;">fix MouseWheel Event</span><span style="color: #008000;"><br /></span><span style="color: #008080;"> 75</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /></span><span style="color: #000000;">            _this.addEvent( document, </span><span style="color: #000000;">'</span><span style="color: #000000;">mousewheel</span><span style="color: #000000;">'</span><span style="color: #000000;">, wheelEvent );<br /></span><span style="color: #008080;"> 76</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            <br /></span><span style="color: #008080;"> 77</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> shadowElem </span><span style="color: #000000;">=</span><span style="color: #000000;"> _this.getDragshow();<br /></span><span style="color: #008080;"> 78</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            shadowElem.style.height </span><span style="color: #000000;">=</span><span style="color: #000000;"> mod.offsetHeight </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">px</span><span style="color: #000000;">'</span><span style="color: #000000;">;<br /></span><span style="color: #008080;"> 79</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            shadowElem.style.border </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">dashed 2px #ccc</span><span style="color: #000000;">'</span><span style="color: #000000;">;<br /></span><span style="color: #008080;"> 80</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            mod.parentNode.insertBefore(shadowElem, mod);<br /></span><span style="color: #008080;"> 81</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            mod.style.top </span><span style="color: #000000;">=</span><span style="color: #000000;"> y </span><span style="color: #000000;">+</span><span style="color: #000000;"> e.clientY </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #000000;">"</span><span style="color: #000000;">px</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /></span><span style="color: #008080;"> 82</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            <br /></span><span style="color: #008080;"> 83</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #008000;">//</span><span style="color: #008000;">move</span><span style="color: #008000;"><br /></span><span style="color: #008080;"> 84</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_2907_5007_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_2907_5007_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_2907_5007_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_2907_5007_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_2907_5007_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_2907_5007_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_2907_5007_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_2907_5007_Open_Text').style.display='inline';" /></span><span style="color: #000000;">            document.onmousemove </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">function</span><span style="color: #000000;">(ev)</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_2907_5007_Closed_Text">...</span><span id="CodeHighlighter1_2907_5007_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;"> 85</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            <br /></span><span style="color: #008080;"> 86</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                ev </span><span style="color: #000000;">=</span><span style="color: #000000;"> window.event </span><span style="color: #000000;">||</span><span style="color: #000000;"> ev;<br /></span><span style="color: #008080;"> 87</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /><br /></span><span style="color: #008080;"> 88</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                log(ev);<br /></span><span style="color: #008080;"> 89</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                <br /></span><span style="color: #008080;"> 90</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                mod.style.top </span><span style="color: #000000;">=</span><span style="color: #000000;"> y </span><span style="color: #000000;">+</span><span style="color: #000000;"> ev.clientY </span><span style="color: #000000;">+</span><span style="color: #000000;"> wheelScrollTop </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #000000;">"</span><span style="color: #000000;">px</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /></span><span style="color: #008080;"> 91</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                mod.style.left </span><span style="color: #000000;">=</span><span style="color: #000000;"> x </span><span style="color: #000000;">+</span><span style="color: #000000;"> ev.clientX </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #000000;">"</span><span style="color: #000000;">px</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /></span><span style="color: #008080;"> 92</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                <br /></span><span style="color: #008080;"> 93</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                handle.style.cursor </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">move</span><span style="color: #000000;">'</span><span style="color: #000000;">;<br /></span><span style="color: #008080;"> 94</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                <br /></span><span style="color: #008080;"> 95</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">if</span><span style="color: #000000;">( </span><span style="color: #000000;">!</span><span style="color: #000000;">_this.settings.shadow) </span><span style="color: #0000ff;">return</span><span style="color: #000000;">;<br /></span><span style="color: #008080;"> 96</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                <br /></span><span style="color: #008080;"> 97</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> mousePos </span><span style="color: #000000;">=</span><span style="color: #000000;"> _this.mouseCoords(ev);<br /></span><span style="color: #008080;"> 98</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                <br /></span><span style="color: #008080;"> 99</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_3382_4851_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_3382_4851_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_3382_4851_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_3382_4851_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_3382_4851_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_3382_4851_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_3382_4851_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_3382_4851_Open_Text').style.display='inline';" />                </span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">var</span><span style="color: #000000;"> i</span><span style="color: #000000;">=</span><span style="color: #000000;">0</span><span style="color: #000000;">; i</span><span style="color: #000000;">&lt;</span><span style="color: #000000;"> _this.columns.length; i</span><span style="color: #000000;">++</span><span style="color: #000000;">)</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_3382_4851_Closed_Text">...</span><span id="CodeHighlighter1_3382_4851_Open_Text"><span style="color: #000000;">{                    <br /></span><span style="color: #008080;">100</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                    <br /></span><span style="color: #008080;">101</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                    </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> column  </span><span style="color: #000000;">=</span><span style="color: #000000;"> _this.columns[i];<br /></span><span style="color: #008080;">102</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                    <br /></span><span style="color: #008080;">103</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                    </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> columnPos    </span><span style="color: #000000;">=</span><span style="color: #000000;"> _this.getPosition(column);<br /></span><span style="color: #008080;">104</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                    </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> columnWidth  </span><span style="color: #000000;">=</span><span style="color: #000000;"> parseInt(column.offsetWidth);<br /></span><span style="color: #008080;">105</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                    </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> columnHeight </span><span style="color: #000000;">=</span><span style="color: #000000;"> parseInt(column.offsetHeight);<br /></span><span style="color: #008080;">106</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />             <br /></span><span style="color: #008080;">107</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_3799_4815_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_3799_4815_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_3799_4815_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_3799_4815_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_3799_4815_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_3799_4815_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_3799_4815_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_3799_4815_Open_Text').style.display='inline';" />                    </span><span style="color: #0000ff;">if</span><span style="color: #000000;">( mousePos.x </span><span style="color: #000000;">&gt;=</span><span style="color: #000000;"> columnPos.x </span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;"> mousePos.x </span><span style="color: #000000;">&lt;=</span><span style="color: #000000;"> (columnPos.x </span><span style="color: #000000;">+</span><span style="color: #000000;"> columnWidth) ) </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_3799_4815_Closed_Text">...</span><span id="CodeHighlighter1_3799_4815_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">108</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                            <br /></span><span style="color: #008080;">109</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                            </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> insertBeforeMod </span><span style="color: #000000;">=</span><span style="color: #000000;"> column.lastChild;<br /></span><span style="color: #008080;">110</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                            <br /></span><span style="color: #008080;">111</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_3965_4696_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_3965_4696_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_3965_4696_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_3965_4696_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_3965_4696_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_3965_4696_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_3965_4696_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_3965_4696_Open_Text').style.display='inline';" />                            </span><span style="color: #0000ff;">for</span><span style="color: #000000;">( </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> j</span><span style="color: #000000;">=</span><span style="color: #000000;">0</span><span style="color: #000000;">; j</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">column.childNodes.length; j</span><span style="color: #000000;">++</span><span style="color: #000000;">)</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_3965_4696_Closed_Text">...</span><span id="CodeHighlighter1_3965_4696_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">112</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                            <br /></span><span style="color: #008080;">113</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                                </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> modTarget </span><span style="color: #000000;">=</span><span style="color: #000000;"> column.childNodes[j];<br /></span><span style="color: #008080;">114</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_4100_4675_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_4100_4675_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_4100_4675_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_4100_4675_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_4100_4675_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_4100_4675_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_4100_4675_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_4100_4675_Open_Text').style.display='inline';" />                                </span><span style="color: #0000ff;">if</span><span style="color: #000000;">( modTarget.nodeType </span><span style="color: #000000;">==</span><span style="color: #000000;"> </span><span style="color: #000000;">1</span><span style="color: #000000;">) </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_4100_4675_Closed_Text">...</span><span id="CodeHighlighter1_4100_4675_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">115</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                                    <br /></span><span style="color: #008080;">116</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                                    </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> modTargetPos </span><span style="color: #000000;">=</span><span style="color: #000000;"> _this.getPosition(modTarget);<br /></span><span style="color: #008080;">117</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                                    </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> modTargetWidth </span><span style="color: #000000;">=</span><span style="color: #000000;"> parseInt(modTarget.offsetWidth);<br /></span><span style="color: #008080;">118</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                                    </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> modTargetHeight </span><span style="color: #000000;">=</span><span style="color: #000000;"> parseInt(modTarget.offsetHeight);<br /></span><span style="color: #008080;">119</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                                    <br /></span><span style="color: #008080;">120</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_4514_4650_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_4514_4650_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_4514_4650_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_4514_4650_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_4514_4650_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_4514_4650_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_4514_4650_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_4514_4650_Open_Text').style.display='inline';" />                                    </span><span style="color: #0000ff;">if</span><span style="color: #000000;">( (mousePos.y </span><span style="color: #000000;">&gt;=</span><span style="color: #000000;"> modTargetPos.y) </span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;"> (mousePos.y </span><span style="color: #000000;">&lt;=</span><span style="color: #000000;"> modTargetPos.y </span><span style="color: #000000;">+</span><span style="color: #000000;"> modTargetHeight) ) </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_4514_4650_Closed_Text">...</span><span id="CodeHighlighter1_4514_4650_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">121</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                                            insertBeforeMod </span><span style="color: #000000;">=</span><span style="color: #000000;"> modTarget;<br /></span><span style="color: #008080;">122</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                                            </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">123</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />                                    }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">124</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />                                }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">125</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />                            }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">126</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />    <br /></span><span style="color: #008080;">127</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                            column.insertBefore(shadowElem, insertBeforeMod);<br /></span><span style="color: #008080;">128</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                            </span><span style="color: #0000ff;">break</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">129</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />                    }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">130</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                    <br /></span><span style="color: #008080;">131</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />                }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">132</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                <br /></span><span style="color: #008080;">133</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                window.getSelection </span><span style="color: #000000;">?</span><span style="color: #000000;"> window.getSelection().removeAllRanges() : document.selection.empty();<br /></span><span style="color: #008080;">134</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                <br /></span><span style="color: #008080;">135</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />            }</span></span><span style="color: #000000;">;<br /></span><span style="color: #008080;">136</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            <br /></span><span style="color: #008080;">137</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #008000;">//</span><span style="color: #008000;">up</span><span style="color: #008000;"><br /></span><span style="color: #008080;">138</span><span style="color: #008000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_5084_5886_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_5084_5886_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_5084_5886_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_5084_5886_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_5084_5886_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_5084_5886_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_5084_5886_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_5084_5886_Open_Text').style.display='inline';" /></span><span style="color: #000000;">            document.onmouseup </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">function</span><span style="color: #000000;">(ev)</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_5084_5886_Closed_Text">...</span><span id="CodeHighlighter1_5084_5886_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">139</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            <br /></span><span style="color: #008080;">140</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                ev </span><span style="color: #000000;">=</span><span style="color: #000000;"> window.event </span><span style="color: #000000;">||</span><span style="color: #000000;"> ev;<br /></span><span style="color: #008080;">141</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            <br /></span><span style="color: #008080;">142</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.onmousemove </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">null</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">143</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.onmouseup</span><span style="color: #000000;">=</span><span style="color: #0000ff;">null</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">144</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                <br /></span><span style="color: #008080;">145</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                handle.style.cssText </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">''</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">146</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                mod.style.cssText </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">''</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">147</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                <br /></span><span style="color: #008080;">148</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">if</span><span style="color: #000000;">( </span><span style="color: #000000;">!</span><span style="color: #000000;">_this.settings.shadow) </span><span style="color: #0000ff;">return</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">149</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                <br /></span><span style="color: #008080;">150</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                _this.removeEvent( document, </span><span style="color: #000000;">'</span><span style="color: #000000;">mousewheel</span><span style="color: #000000;">'</span><span style="color: #000000;">, wheelEvent );<br /></span><span style="color: #008080;">151</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                <br /></span><span style="color: #008080;">152</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> shadowElem </span><span style="color: #000000;">=</span><span style="color: #000000;"> _this.getDragshow();<br /></span><span style="color: #008080;">153</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">if</span><span style="color: #000000;">( shadowElem.parentNode.tagName </span><span style="color: #000000;">!=</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">BODY</span><span style="color: #000000;">'</span><span style="color: #000000;">)<br /></span><span style="color: #008080;">154</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                    shadowElem.parentNode.replaceChild(mod, shadowElem);<br /></span><span style="color: #008080;">155</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">else</span><span style="color: #000000;"> shadowElem.parentNode.removeChild(shadowElem);<br /></span><span style="color: #008080;">156</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                <br /></span><span style="color: #008080;">157</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                _this.save();<br /></span><span style="color: #008080;">158</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                <br /></span><span style="color: #008080;">159</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                log(</span><span style="color: #000000;">'</span><span style="color: #000000;">save complate!</span><span style="color: #000000;">'</span><span style="color: #000000;">,document.cookie);<br /></span><span style="color: #008080;">160</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />            }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">161</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            <br /></span><span style="color: #008080;">162</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            window.getSelection </span><span style="color: #000000;">?</span><span style="color: #000000;"> window.getSelection().removeAllRanges() : document.selection.empty();<br /></span><span style="color: #008080;">163</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;">;<br /></span><span style="color: #008080;">164</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedBlockEnd.gif" />}</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">165</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/None.gif" /><br /></span><span style="color: #008080;">166</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedBlockStart.gif" id="CodeHighlighter1_6032_9774_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_6032_9774_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_6032_9774_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_6032_9774_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedBlock.gif" style="display: none;" id="CodeHighlighter1_6032_9774_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_6032_9774_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_6032_9774_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_6032_9774_Open_Text').style.display='inline';" />Drag.prototype </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_6032_9774_Closed_Text">...</span><span id="CodeHighlighter1_6032_9774_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">167</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_6049_6164_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_6049_6164_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_6049_6164_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_6049_6164_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_6049_6164_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_6049_6164_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_6049_6164_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_6049_6164_Open_Text').style.display='inline';" />    settings : </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_6049_6164_Closed_Text">...</span><span id="CodeHighlighter1_6049_6164_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">168</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        container : </span><span style="color: #0000ff;">null</span><span style="color: #000000;">,<br /></span><span style="color: #008080;">169</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        column : </span><span style="color: #000000;">''</span><span style="color: #000000;">,<br /></span><span style="color: #008080;">170</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        mod : </span><span style="color: #000000;">''</span><span style="color: #000000;">,<br /></span><span style="color: #008080;">171</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        handle : </span><span style="color: #000000;">''</span><span style="color: #000000;">,<br /></span><span style="color: #008080;">172</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        shadow : </span><span style="color: #0000ff;">true</span><span style="color: #000000;"><br /></span><span style="color: #008080;">173</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />    }</span></span><span style="color: #000000;">,<br /></span><span style="color: #008080;">174</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_6208_6455_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_6208_6455_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_6208_6455_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_6208_6455_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_6208_6455_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_6208_6455_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_6208_6455_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_6208_6455_Open_Text').style.display='inline';" />    getStyle : </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> ( elem, property) </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_6208_6455_Closed_Text">...</span><span id="CodeHighlighter1_6208_6455_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">175</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;">( document.defaultView )<br /></span><span style="color: #008080;">176</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_6253_6405_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_6253_6405_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_6253_6405_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_6253_6405_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_6253_6405_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_6253_6405_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_6253_6405_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_6253_6405_Open_Text').style.display='inline';" />        </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_6253_6405_Closed_Text">...</span><span id="CodeHighlighter1_6253_6405_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">177</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> computed </span><span style="color: #000000;">=</span><span style="color: #000000;"> document.defaultView.getComputedStyle(elem, </span><span style="color: #0000ff;">null</span><span style="color: #000000;">);<br /></span><span style="color: #008080;">178</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> elem.style[property] </span><span style="color: #000000;">||</span><span style="color: #000000;"> computed[property];<br /></span><span style="color: #008080;">179</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">180</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> elem.currentStyle[property];<br /></span><span style="color: #008080;">181</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />    }</span></span><span style="color: #000000;">,<br /></span><span style="color: #008080;">182</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />    hasClass : </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> (elem, name)<br /></span><span style="color: #008080;">183</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_6498_6573_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_6498_6573_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_6498_6573_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_6498_6573_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_6498_6573_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_6498_6573_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_6498_6573_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_6498_6573_Open_Text').style.display='inline';" />    </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_6498_6573_Closed_Text">...</span><span id="CodeHighlighter1_6498_6573_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">184</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> (</span><span style="color: #000000;">'</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">+</span><span style="color: #000000;">elem.className</span><span style="color: #000000;">+</span><span style="color: #000000;">'</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">).indexOf(</span><span style="color: #000000;">'</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">+</span><span style="color: #000000;">name</span><span style="color: #000000;">+</span><span style="color: #000000;">'</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">) </span><span style="color: #000000;">!=</span><span style="color: #000000;"> </span><span style="color: #000000;">-</span><span style="color: #000000;">1</span><span style="color: #000000;"><br /></span><span style="color: #008080;">185</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />    }</span></span><span style="color: #000000;">,<br /></span><span style="color: #008080;">186</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />    getElementsByClassName : </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> (className, elem, tagName)<br /></span><span style="color: #008080;">187</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_6644_7107_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_6644_7107_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_6644_7107_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_6644_7107_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_6644_7107_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_6644_7107_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_6644_7107_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_6644_7107_Open_Text').style.display='inline';" />    </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_6644_7107_Closed_Text">...</span><span id="CodeHighlighter1_6644_7107_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">188</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        elem </span><span style="color: #000000;">=</span><span style="color: #000000;"> elem </span><span style="color: #000000;">||</span><span style="color: #000000;"> document;<br /></span><span style="color: #008080;">189</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        tagName </span><span style="color: #000000;">=</span><span style="color: #000000;"> tagName </span><span style="color: #000000;">||</span><span style="color: #000000;"> </span><span style="color: #000000;">"</span><span style="color: #000000;">*</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">190</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> results </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">new</span><span style="color: #000000;"> Array();<br /></span><span style="color: #008080;">191</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> elements </span><span style="color: #000000;">=</span><span style="color: #000000;"> elem.getElementsByTagName(tagName);<br /></span><span style="color: #008080;">192</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">var</span><span style="color: #000000;"> i</span><span style="color: #000000;">=</span><span style="color: #000000;">0</span><span style="color: #000000;">; i</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">elements.length; i</span><span style="color: #000000;">++</span><span style="color: #000000;">)<br /></span><span style="color: #008080;">193</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_6860_7049_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_6860_7049_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_6860_7049_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_6860_7049_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_6860_7049_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_6860_7049_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_6860_7049_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_6860_7049_Open_Text').style.display='inline';" />        </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_6860_7049_Closed_Text">...</span><span id="CodeHighlighter1_6860_7049_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">194</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> element </span><span style="color: #000000;">=</span><span style="color: #000000;"> elements[i];<br /></span><span style="color: #008080;">195</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">if</span><span style="color: #000000;">( element.className </span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;"> (</span><span style="color: #000000;">'</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">+</span><span style="color: #000000;">element.className</span><span style="color: #000000;">+</span><span style="color: #000000;">'</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">).indexOf(</span><span style="color: #000000;">'</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">+</span><span style="color: #000000;">className</span><span style="color: #000000;">+</span><span style="color: #000000;">'</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">) </span><span style="color: #000000;">!=</span><span style="color: #000000;"> </span><span style="color: #000000;">-</span><span style="color: #000000;">1</span><span style="color: #000000;"> )<br /></span><span style="color: #008080;">196</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                results.push(element);<br /></span><span style="color: #008080;">197</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">198</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> results.length </span><span style="color: #000000;">&gt;</span><span style="color: #000000;"> </span><span style="color: #000000;">0</span><span style="color: #000000;"> </span><span style="color: #000000;">?</span><span style="color: #000000;"> results : </span><span style="color: #0000ff;">null</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">199</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />    }</span></span><span style="color: #000000;">,<br /></span><span style="color: #008080;">200</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_7155_7397_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_7155_7397_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_7155_7397_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_7155_7397_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_7155_7397_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_7155_7397_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_7155_7397_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_7155_7397_Open_Text').style.display='inline';" />    addEvent : </span><span style="color: #0000ff;">function</span><span style="color: #000000;">(target,eventType,func)</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_7155_7397_Closed_Text">...</span><span id="CodeHighlighter1_7155_7397_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">201</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;">(target.attachEvent)<br /></span><span style="color: #008080;">202</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_7184_7240_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_7184_7240_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_7184_7240_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_7184_7240_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_7184_7240_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_7184_7240_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_7184_7240_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_7184_7240_Open_Text').style.display='inline';" />        </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_7184_7240_Closed_Text">...</span><span id="CodeHighlighter1_7184_7240_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">203</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            target.attachEvent(</span><span style="color: #000000;">"</span><span style="color: #000000;">on</span><span style="color: #000000;">"</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> eventType, func);<br /></span><span style="color: #008080;">204</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            <br /></span><span style="color: #008080;">205</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #0000ff;">else</span><span style="color: #000000;"> </span><span style="color: #0000ff;">if</span><span style="color: #000000;">(target.addEventListener)<br /></span><span style="color: #008080;">206</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_7275_7379_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_7275_7379_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_7275_7379_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_7275_7379_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_7275_7379_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_7275_7379_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_7275_7379_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_7275_7379_Open_Text').style.display='inline';" />        </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_7275_7379_Closed_Text">...</span><span id="CodeHighlighter1_7275_7379_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">207</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            target.addEventListener(eventType </span><span style="color: #000000;">==</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">mousewheel</span><span style="color: #000000;">'</span><span style="color: #000000;"> </span><span style="color: #000000;">?</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">DOMMouseScroll</span><span style="color: #000000;">'</span><span style="color: #000000;"> : eventType, func, </span><span style="color: #0000ff;">false</span><span style="color: #000000;">);<br /></span><span style="color: #008080;">208</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">209</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">210</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />    }</span></span><span style="color: #000000;">,<br /></span><span style="color: #008080;">211</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_7445_7693_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_7445_7693_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_7445_7693_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_7445_7693_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_7445_7693_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_7445_7693_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_7445_7693_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_7445_7693_Open_Text').style.display='inline';" />    removeEvent : </span><span style="color: #0000ff;">function</span><span style="color: #000000;">(target,eventType,func)</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_7445_7693_Closed_Text">...</span><span id="CodeHighlighter1_7445_7693_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">212</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;">(target.detachEvent)<br /></span><span style="color: #008080;">213</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_7474_7530_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_7474_7530_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_7474_7530_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_7474_7530_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_7474_7530_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_7474_7530_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_7474_7530_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_7474_7530_Open_Text').style.display='inline';" />        </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_7474_7530_Closed_Text">...</span><span id="CodeHighlighter1_7474_7530_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">214</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            target.detachEvent(</span><span style="color: #000000;">"</span><span style="color: #000000;">on</span><span style="color: #000000;">"</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> eventType, func);<br /></span><span style="color: #008080;">215</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            <br /></span><span style="color: #008080;">216</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #0000ff;">else</span><span style="color: #000000;"> </span><span style="color: #0000ff;">if</span><span style="color: #000000;">(target.removeEventListener)<br /></span><span style="color: #008080;">217</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_7568_7675_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_7568_7675_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_7568_7675_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_7568_7675_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_7568_7675_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_7568_7675_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_7568_7675_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_7568_7675_Open_Text').style.display='inline';" />        </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_7568_7675_Closed_Text">...</span><span id="CodeHighlighter1_7568_7675_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">218</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            target.removeEventListener(eventType </span><span style="color: #000000;">==</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">mousewheel</span><span style="color: #000000;">'</span><span style="color: #000000;"> </span><span style="color: #000000;">?</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">DOMMouseScroll</span><span style="color: #000000;">'</span><span style="color: #000000;"> : eventType, func, </span><span style="color: #0000ff;">false</span><span style="color: #000000;">);<br /></span><span style="color: #008080;">219</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">220</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">221</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />    }</span></span><span style="color: #000000;">,<br /></span><span style="color: #008080;">222</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_7726_8059_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_7726_8059_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_7726_8059_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_7726_8059_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_7726_8059_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_7726_8059_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_7726_8059_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_7726_8059_Open_Text').style.display='inline';" />    mouseCoords : </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> (ev)</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_7726_8059_Closed_Text">...</span><span id="CodeHighlighter1_7726_8059_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">223</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_7762_7866_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_7762_7866_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_7762_7866_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_7762_7866_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_7762_7866_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_7762_7866_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_7762_7866_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_7762_7866_Open_Text').style.display='inline';" />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;"> (ev.pageX </span><span style="color: #000000;">||</span><span style="color: #000000;"> ev.pageY) </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_7762_7866_Closed_Text">...</span><span id="CodeHighlighter1_7762_7866_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">224</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_7783_7855_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_7783_7855_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_7783_7855_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_7783_7855_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_7783_7855_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_7783_7855_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_7783_7855_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_7783_7855_Open_Text').style.display='inline';" />            </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_7783_7855_Closed_Text">...</span><span id="CodeHighlighter1_7783_7855_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">225</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                x: ev.pageX,<br /></span><span style="color: #008080;">226</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                y: ev.pageY<br /></span><span style="color: #008080;">227</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />            }</span></span><span style="color: #000000;">;<br /></span><span style="color: #008080;">228</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">229</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_7882_8052_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_7882_8052_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_7882_8052_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_7882_8052_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_7882_8052_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_7882_8052_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_7882_8052_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_7882_8052_Open_Text').style.display='inline';" />        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_7882_8052_Closed_Text">...</span><span id="CodeHighlighter1_7882_8052_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">230</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            x: ev.clientX </span><span style="color: #000000;">+</span><span style="color: #000000;"> document.body.scrollLeft </span><span style="color: #000000;">-</span><span style="color: #000000;"> document.body.clientLeft,<br /></span><span style="color: #008080;">231</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            y: ev.clientY </span><span style="color: #000000;">+</span><span style="color: #000000;"> document.body.scrollTop </span><span style="color: #000000;">-</span><span style="color: #000000;"> document.body.clientTop<br /></span><span style="color: #008080;">232</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;">;<br /></span><span style="color: #008080;">233</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />    }</span></span><span style="color: #000000;">,<br /></span><span style="color: #008080;">234</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_8094_8376_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_8094_8376_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_8094_8376_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_8094_8376_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_8094_8376_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_8094_8376_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_8094_8376_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_8094_8376_Open_Text').style.display='inline';" />    getPosition : </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> (elem)</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_8094_8376_Closed_Text">...</span><span id="CodeHighlighter1_8094_8376_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">235</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />      </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> left </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">0</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">236</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />      </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> top  </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">0</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">237</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /><br /></span><span style="color: #008080;">238</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_8168_8277_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_8168_8277_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_8168_8277_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_8168_8277_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_8168_8277_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_8168_8277_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_8168_8277_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_8168_8277_Open_Text').style.display='inline';" />      </span><span style="color: #0000ff;">while</span><span style="color: #000000;"> (elem.offsetParent)</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_8168_8277_Closed_Text">...</span><span id="CodeHighlighter1_8168_8277_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">239</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        left </span><span style="color: #000000;">+=</span><span style="color: #000000;"> elem.offsetLeft;<br /></span><span style="color: #008080;">240</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        top  </span><span style="color: #000000;">+=</span><span style="color: #000000;"> elem.offsetTop;<br /></span><span style="color: #008080;">241</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        elem  </span><span style="color: #000000;">=</span><span style="color: #000000;"> elem.offsetParent;<br /></span><span style="color: #008080;">242</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />      }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">243</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /><br /></span><span style="color: #008080;">244</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />      left </span><span style="color: #000000;">+=</span><span style="color: #000000;"> elem.offsetLeft;<br /></span><span style="color: #008080;">245</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />      top  </span><span style="color: #000000;">+=</span><span style="color: #000000;"> elem.offsetTop;<br /></span><span style="color: #008080;">246</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" /><br /></span><span style="color: #008080;">247</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_8354_8369_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_8354_8369_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_8354_8369_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_8354_8369_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_8354_8369_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_8354_8369_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_8354_8369_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_8354_8369_Open_Text').style.display='inline';" />      </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_8354_8369_Closed_Text">...</span><span id="CodeHighlighter1_8354_8369_Open_Text"><span style="color: #000000;">{x:left, y:top}</span></span><span style="color: #000000;">;<br /></span><span style="color: #008080;">248</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />    }</span></span><span style="color: #000000;">,<br /></span><span style="color: #008080;">249</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_8407_8766_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_8407_8766_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_8407_8766_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_8407_8766_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_8407_8766_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_8407_8766_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_8407_8766_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_8407_8766_Open_Text').style.display='inline';" />    getDragshow : </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> ()</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_8407_8766_Closed_Text">...</span><span id="CodeHighlighter1_8407_8766_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">250</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> id </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">"</span><span style="color: #000000;">shadow</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">251</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> elem </span><span style="color: #000000;">=</span><span style="color: #000000;"> document.getElementById(id);<br /></span><span style="color: #008080;">252</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;">( elem </span><span style="color: #000000;">==</span><span style="color: #000000;"> </span><span style="color: #0000ff;">null</span><span style="color: #000000;">)<br /></span><span style="color: #008080;">253</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_8518_8739_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_8518_8739_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_8518_8739_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_8518_8739_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_8518_8739_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_8518_8739_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_8518_8739_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_8518_8739_Open_Text').style.display='inline';" />        </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_8518_8739_Closed_Text">...</span><span id="CodeHighlighter1_8518_8739_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">254</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            elem </span><span style="color: #000000;">=</span><span style="color: #000000;"> document.createElement(</span><span style="color: #000000;">'</span><span style="color: #000000;">div</span><span style="color: #000000;">'</span><span style="color: #000000;">);<br /></span><span style="color: #008080;">255</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            elem.id </span><span style="color: #000000;">=</span><span style="color: #000000;"> id;<br /></span><span style="color: #008080;">256</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            elem.className </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.settings.mod </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> id;<br /></span><span style="color: #008080;">257</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            document.body.insertBefore(elem, document.body.childNodes[</span><span style="color: #000000;">0</span><span style="color: #000000;">]);<br /></span><span style="color: #008080;">258</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">259</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> elem;<br /></span><span style="color: #008080;">260</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_8786_9462_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_8786_9462_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_8786_9462_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_8786_9462_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_8786_9462_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_8786_9462_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_8786_9462_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_8786_9462_Open_Text').style.display='inline';" />    }</span></span><span style="color: #000000;">,save : </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> () </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_8786_9462_Closed_Text">...</span><span id="CodeHighlighter1_8786_9462_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">261</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> sort </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">1</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">262</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> cookieArr </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">new</span><span style="color: #000000;"> Array();<br /></span><span style="color: #008080;">263</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_8896_9407_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_8896_9407_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_8896_9407_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_8896_9407_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_8896_9407_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_8896_9407_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_8896_9407_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_8896_9407_Open_Text').style.display='inline';" />        </span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">var</span><span style="color: #000000;"> i</span><span style="color: #000000;">=</span><span style="color: #000000;">0</span><span style="color: #000000;">; i</span><span style="color: #000000;">&lt;</span><span style="color: #0000ff;">this</span><span style="color: #000000;">.columns.length; i</span><span style="color: #000000;">++</span><span style="color: #000000;">) </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_8896_9407_Closed_Text">...</span><span id="CodeHighlighter1_8896_9407_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">264</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> column  </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.columns[i];<br /></span><span style="color: #008080;">265</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_8995_9400_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_8995_9400_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_8995_9400_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_8995_9400_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_8995_9400_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_8995_9400_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_8995_9400_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_8995_9400_Open_Text').style.display='inline';" />            </span><span style="color: #0000ff;">for</span><span style="color: #000000;">( </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> j</span><span style="color: #000000;">=</span><span style="color: #000000;">0</span><span style="color: #000000;">; j</span><span style="color: #000000;">&lt;</span><span style="color: #000000;"> column.childNodes.length; j</span><span style="color: #000000;">++</span><span style="color: #000000;">) </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_8995_9400_Closed_Text">...</span><span id="CodeHighlighter1_8995_9400_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">266</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> mod </span><span style="color: #000000;">=</span><span style="color: #000000;"> column.childNodes[j];<br /></span><span style="color: #008080;">267</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_9120_9389_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_9120_9389_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_9120_9389_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_9120_9389_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_9120_9389_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_9120_9389_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_9120_9389_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_9120_9389_Open_Text').style.display='inline';" />                </span><span style="color: #0000ff;">if</span><span style="color: #000000;">( mod.nodeType </span><span style="color: #000000;">==</span><span style="color: #000000;"> </span><span style="color: #000000;">1</span><span style="color: #000000;"> </span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;"> </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.hasClass(mod, </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.settings.mod) ) </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_9120_9389_Closed_Text">...</span><span id="CodeHighlighter1_9120_9389_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">268</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                    </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> columnId </span><span style="color: #000000;">=</span><span style="color: #000000;"> column.className.substring(column.className.length </span><span style="color: #000000;">-</span><span style="color: #000000;"> </span><span style="color: #000000;">1</span><span style="color: #000000;">);<br /></span><span style="color: #008080;">269</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                    </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> modId </span><span style="color: #000000;">=</span><span style="color: #000000;"> mod.id.replace(</span><span style="color: #0000ff;">this</span><span style="color: #000000;">.settings.mod,</span><span style="color: #000000;">''</span><span style="color: #000000;">);<br /></span><span style="color: #008080;">270</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                    cookieArr.push( modId </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">=</span><span style="color: #000000;">'</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> columnId </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">-</span><span style="color: #000000;">'</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> sort );<br /></span><span style="color: #008080;">271</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />                    sort</span><span style="color: #000000;">++</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">272</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />                }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">273</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />            }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">274</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">275</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.cookie(</span><span style="color: #000000;">'</span><span style="color: #000000;">Drag</span><span style="color: #000000;">'</span><span style="color: #000000;">,cookieArr.join(</span><span style="color: #000000;">'</span><span style="color: #000000;">&amp;</span><span style="color: #000000;">'</span><span style="color: #000000;">),</span><span style="color: #000000;">10</span><span style="color: #000000;">);<br /></span><span style="color: #008080;">276</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />    }</span></span><span style="color: #000000;">,cookie : </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> (name, value, expires)<br /></span><span style="color: #008080;">277</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_9508_9772_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_9508_9772_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_9508_9772_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_9508_9772_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_9508_9772_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_9508_9772_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_9508_9772_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_9508_9772_Open_Text').style.display='inline';" />    </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_9508_9772_Closed_Text">...</span><span id="CodeHighlighter1_9508_9772_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">278</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> date </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #0000ff;">new</span><span style="color: #000000;"> Date();<br /></span><span style="color: #008080;">279</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">if</span><span style="color: #000000;">( expires )<br /></span><span style="color: #008080;">280</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_9571_9647_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_9571_9647_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_9571_9647_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_9571_9647_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_9571_9647_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_9571_9647_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_9571_9647_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_9571_9647_Open_Text').style.display='inline';" />        </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_9571_9647_Closed_Text">...</span><span id="CodeHighlighter1_9571_9647_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">281</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            date.setTime(date.getTime() </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #000000;">1000</span><span style="color: #000000;"> </span><span style="color: #000000;">*</span><span style="color: #000000;"> </span><span style="color: #000000;">60</span><span style="color: #000000;"> </span><span style="color: #000000;">*</span><span style="color: #000000;"> expires );<br /></span><span style="color: #008080;">282</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">283</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        <br /></span><span style="color: #008080;">284</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        document.cookie </span><span style="color: #000000;">=</span><span style="color: #000000;"> name </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">=</span><span style="color: #000000;">'</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> value </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">; path=/; expires=</span><span style="color: #000000;">'</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> ( expires </span><span style="color: #000000;">?</span><span style="color: #000000;"> date.toGMTString() : </span><span style="color: #000000;">'</span><span style="color: #000000;">0</span><span style="color: #000000;">'</span><span style="color: #000000;"> );<br /></span><span style="color: #008080;">285</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />    }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">286</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedBlockEnd.gif" />}</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">287</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/None.gif" /><br /></span><span style="color: #008080;">288</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/None.gif" /></span><span style="color: #0000ff;">function</span><span style="color: #000000;"> log(obj)<br /></span><span style="color: #008080;">289</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedBlockStart.gif" id="CodeHighlighter1_9794_10764_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_9794_10764_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_9794_10764_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_9794_10764_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedBlock.gif" style="display: none;" id="CodeHighlighter1_9794_10764_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_9794_10764_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_9794_10764_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_9794_10764_Open_Text').style.display='inline';" /></span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_9794_10764_Closed_Text">...</span><span id="CodeHighlighter1_9794_10764_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">290</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />    </span><span style="color: #0000ff;">if</span><span style="color: #000000;">( </span><span style="color: #0000ff;">typeof</span><span style="color: #000000;">(enableLog) </span><span style="color: #000000;">==</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">undefined</span><span style="color: #000000;">'</span><span style="color: #000000;"> ) </span><span style="color: #0000ff;">return</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">291</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />    <br /></span><span style="color: #008080;">292</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />    </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> id </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">log</span><span style="color: #000000;">'</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">293</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />    </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> logElem </span><span style="color: #000000;">=</span><span style="color: #000000;"> document.getElementById(id);<br /></span><span style="color: #008080;">294</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />    </span><span style="color: #0000ff;">if</span><span style="color: #000000;">( logElem </span><span style="color: #000000;">==</span><span style="color: #000000;"> </span><span style="color: #0000ff;">null</span><span style="color: #000000;"> )<br /></span><span style="color: #008080;">295</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_9949_10370_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_9949_10370_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_9949_10370_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_9949_10370_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_9949_10370_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_9949_10370_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_9949_10370_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_9949_10370_Open_Text').style.display='inline';" />    </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_9949_10370_Closed_Text">...</span><span id="CodeHighlighter1_9949_10370_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">296</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        logElem </span><span style="color: #000000;">=</span><span style="color: #000000;"> document.createElement(</span><span style="color: #000000;">'</span><span style="color: #000000;">div</span><span style="color: #000000;">'</span><span style="color: #000000;">);<br /></span><span style="color: #008080;">297</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        logElem.id </span><span style="color: #000000;">=</span><span style="color: #000000;"> id;<br /></span><span style="color: #008080;">298</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        logElem.style.cssText </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">position:fixed !important;position:absolute;z-index:9999;bottom:2px;left:2px;border:solid 2px #ccc;background-color:#e0e54b;opacity:0.5;filter:alpha(opacity:50);color:red;font-weight:700;overflow-x:hidden;overflow-y:auto;</span><span style="color: #000000;">'</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">299</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        <br /></span><span style="color: #008080;">300</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        document.body.insertBefore(logElem, document.body.childNodes[</span><span style="color: #000000;">0</span><span style="color: #000000;">]);<br /></span><span style="color: #008080;">301</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />    }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">302</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />    logElem.style.display </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">block</span><span style="color: #000000;">'</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">303</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />    logElem.innerHTML </span><span style="color: #000000;">=</span><span style="color: #000000;"> </span><span style="color: #000000;">''</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">304</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />    </span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">var</span><span style="color: #000000;"> i</span><span style="color: #000000;">=</span><span style="color: #000000;">0</span><span style="color: #000000;">;i </span><span style="color: #000000;">&lt;</span><span style="color: #000000;"> arguments.length; i</span><span style="color: #000000;">++</span><span style="color: #000000;">)<br /></span><span style="color: #008080;">305</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_10483_10683_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_10483_10683_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_10483_10683_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_10483_10683_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_10483_10683_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_10483_10683_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_10483_10683_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_10483_10683_Open_Text').style.display='inline';" />    </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_10483_10683_Closed_Text">...</span><span id="CodeHighlighter1_10483_10683_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">306</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">var</span><span style="color: #000000;"> obj </span><span style="color: #000000;">=</span><span style="color: #000000;"> arguments[i];<br /></span><span style="color: #008080;">307</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        logElem.innerHTML </span><span style="color: #000000;">+=</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">&lt;b&gt;</span><span style="color: #000000;">'</span><span style="color: #000000;">+</span><span style="color: #000000;">obj</span><span style="color: #000000;">+</span><span style="color: #000000;">'</span><span style="color: #000000;">&lt;/b&gt;&lt;br /&gt;</span><span style="color: #000000;">'</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">308</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        </span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">var</span><span style="color: #000000;"> p </span><span style="color: #0000ff;">in</span><span style="color: #000000;"> obj)<br /></span><span style="color: #008080;">309</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockStart.gif" id="CodeHighlighter1_10604_10677_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_10604_10677_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_10604_10677_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_10604_10677_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedSubBlock.gif" style="display: none;" id="CodeHighlighter1_10604_10677_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_10604_10677_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_10604_10677_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_10604_10677_Open_Text').style.display='inline';" />        </span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_10604_10677_Closed_Text">...</span><span id="CodeHighlighter1_10604_10677_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">310</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />            logElem.innerHTML </span><span style="color: #000000;">+=</span><span style="color: #000000;"> p </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">：</span><span style="color: #000000;">'</span><span style="color: #000000;"> </span><span style="color: #000000;">+</span><span style="color: #000000;"> obj[p] </span><span style="color: #000000;">+</span><span style="color: #000000;"> </span><span style="color: #000000;">'</span><span style="color: #000000;">&lt;br /&gt;</span><span style="color: #000000;">'</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">311</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />        }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">312</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedSubBlockEnd.gif" />    }</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">313</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />    logElem.style.height </span><span style="color: #000000;">=</span><span style="color: #000000;"> logElem.clientHeight </span><span style="color: #000000;">&gt;</span><span style="color: #000000;"> </span><span style="color: #000000;">500</span><span style="color: #000000;"> </span><span style="color: #000000;">?</span><span style="color: #000000;"> </span><span style="color: #000000;">"</span><span style="color: #000000;">500px</span><span style="color: #000000;">"</span><span style="color: #000000;"> : </span><span style="color: #000000;">"</span><span style="color: #000000;">auto</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /></span><span style="color: #008080;">314</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />    <br /></span><span style="color: #008080;">315</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedBlockEnd.gif" />}</span></span><span style="color: #000000;"><br /></span><span style="color: #008080;">316</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/None.gif" /><br /></span><span style="color: #008080;">317</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedBlockStart.gif" id="CodeHighlighter1_10775_10907_Open_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_10775_10907_Open_Text').style.display='none'; document.getElementById('CodeHighlighter1_10775_10907_Closed_Image').style.display='inline'; document.getElementById('CodeHighlighter1_10775_10907_Closed_Text').style.display='inline';" /><img src="/codehighlighter/outliningIndicators/ContractedBlock.gif" style="display: none;" id="CodeHighlighter1_10775_10907_Closed_Image" onclick="this.style.display='none'; document.getElementById('CodeHighlighter1_10775_10907_Closed_Text').style.display='none'; document.getElementById('CodeHighlighter1_10775_10907_Open_Image').style.display='inline'; document.getElementById('CodeHighlighter1_10775_10907_Open_Text').style.display='inline';" /></span><span style="color: #0000ff;">new</span><span style="color: #000000;"> Drag(</span><span style="border: solid 1px #808080; background-color: #ffffff; display: none;" id="CodeHighlighter1_10775_10907_Closed_Text">...</span><span id="CodeHighlighter1_10775_10907_Open_Text"><span style="color: #000000;">{<br /></span><span style="color: #008080;">318</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        container : document.getElementById(</span><span style="color: #000000;">'</span><span style="color: #000000;">main</span><span style="color: #000000;">'</span><span style="color: #000000;">),<br /></span><span style="color: #008080;">319</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        column : </span><span style="color: #000000;">'</span><span style="color: #000000;">column</span><span style="color: #000000;">'</span><span style="color: #000000;">,<br /></span><span style="color: #008080;">320</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        mod : </span><span style="color: #000000;">'</span><span style="color: #000000;">mod</span><span style="color: #000000;">'</span><span style="color: #000000;">,<br /></span><span style="color: #008080;">321</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/InBlock.gif" />        handle : </span><span style="color: #000000;">'</span><span style="color: #000000;">head</span><span style="color: #000000;">'</span><span style="color: #000000;"><br /></span><span style="color: #008080;">322</span><span style="color: #000000;"><img src="/codehighlighter/outliningIndicators/ExpandedBlockEnd.gif" />    }</span></span><span style="color: #000000;">);</span></div></div></div></pre>
</div>
			</div>
			<script type="text/javascript" src="/styles/index/scripts/ImgLazy.js"></script>
	        <script type="text/javascript">new ImgLazy( { selector : 'content', maxWidth : document.getElementById('content').offsetWidth, 'loadSrc' : '/styles/index/css/default/images/lazyloading.gif' });</script>

			<div class="tags">标签：<a href="/jonllen/js/">JavaScript</a> 拖拽,博客个性化
			    
			    
			</div>

			<div class="desc">
			  <ul>
				<li>posted@ 2010-03-21 00:07</li>
				<li>update@ 2010-04-03 17:47:58</li>
				<li>阅读(<span id="articleClick">12459</span>)</li>
				<li>评论(8)</li>
				
			  </ul>
			</div>
			<script type="text/javascript" src="/styles/index/scripts/ad.js"></script>

		</div>
<div class="context">
			<ul>
				<li>上一篇：<a href="/jonllen/js/101.aspx">使用Google地图API搜索功能</a></li>
<li>下一篇：<a href="/jonllen/js/117.aspx">有趣的IE判断</a></li></ul>
		</div>
		

<div class="correlative">
	
		    <h4>相关文章</h4>
			<ul>



			</ul>
		
</div>

		
		<div class="comment">
			<div class="title">评论</div>
			<div class="commentlist" id="commentContent">
				



				        <div class="item">
					        <div class="desc">
						        <ul class="options">
							        <li><a href="javascript:;" onclick="quote(this,'文夕')">引用</a></li>

						        </ul>
						        <a>1楼</a> 文夕 2010-03-21 18:47:08
					        </div><div class="cont">很炫啊。不过你这最近打开速度有些慢了~</div>
					        <div class="reply" ><span>回复：</span>是吗，难道是加了dict.hjenglish.com取词的脚本？（2010-03-22 09:19:25）</div>
				        </div>




				        <div class="item">
					        <div class="desc">
						        <ul class="options">
							        <li><a href="javascript:;" onclick="quote(this,'applezqp')">引用</a></li>

						        </ul>
						        <a>2楼</a> applezqp 2010-03-28 12:51:09
					        </div><div class="cont">呃，比我做的建行的拖拽功能好啊，建行拖拽功能不知道后来有没有实现。</div>
					        <div class="reply" ><span>回复：</span>说不上好吧，需求也都不一样，建行那个我就不知道了，不去建行工作都快2个月了，也不再过问建行事。（2010-03-28 19:02:03）</div>
				        </div>




				        <div class="item">
					        <div class="desc">
						        <ul class="options">
							        <li><a href="javascript:;" onclick="quote(this,'crs811')">引用</a></li>

						        </ul>
						        <a>3楼</a> crs811 2010-03-29 23:00:29
					        </div><div class="cont">你好，我正在学习用asp.net做页面定制作，有幸看到你的文章，觉得效果很不错啊，不过，只有Drag.js还不是完整的一个小例子，没法运行。<br />能否给我发个有几个简单asp.net页面的完整例子呢，谢谢啦<br /><br />crs811@qq.com</div>
					        <div class="reply" ><span>回复：</span>你是要js的拖拽效果还是要能保存在数据库内的页面模块位置？（2010-03-30 22:48:35）</div>
				        </div>




				        <div class="item">
					        <div class="desc">
						        <ul class="options">
							        <li><a href="javascript:;" onclick="quote(this,'crs811')">引用</a></li>

						        </ul>
						        <a>4楼</a> crs811 2010-04-01 09:00:42
					        </div><div class="cont">主要是js的拖拽效果(拖后的位置一般保存在本地cookie中)，也可以保存在数据库中么？<br />若方便，能否将保存数据库的过程也顺便说一下呢，谢谢</div>
					        <div class="reply" ><span>回复：</span>是的，那我这个周未有时间就把demo发送到你的邮箱里面去，欢迎交流。（2010-04-01 23:17:59）</div>
				        </div>




				        <div class="item">
					        <div class="desc">
						        <ul class="options">
							        <li><a href="javascript:;" onclick="quote(this,'zhoulong8513')">引用</a></li>

						        </ul>
						        <a>5楼</a> zhoulong8513 2010-05-31 09:40:31
					        </div><div class="cont">你好，能将拖拽保存到数据库的Demo给我一份吗？我的邮箱：274549431@qq.com<br />谢谢！</div>
					        <div class="reply" ><span>回复：</span>没有Demo版哦~只提供思路。（2010-05-31 10:56:23）</div>
				        </div>




				        <div class="item">
					        <div class="desc">
						        <ul class="options">
							        <li><a href="javascript:;" onclick="quote(this,'seankerdy')">引用</a></li>

						        </ul>
						        <a>6楼</a> seankerdy 2010-06-29 14:44:58
					        </div><div class="cont">拖拽效果怎么保存在数据库内的页面模块位置能给个例子吗?不胜感激,谢谢 mail:sean_kerdy@hotmail.com</div>
					        
				        </div>




				        <div class="item">
					        <div class="desc">
						        <ul class="options">
							        <li><a href="javascript:;" onclick="quote(this,'shuifeng')">引用</a></li>

						        </ul>
						        <a>7楼</a> shuifeng 2010-08-23 23:45:31
					        </div><div class="cont">能给我发个保存在数据库内的demo或是思路吗<br />email：liulei051610613@126.com<br />谢谢啦</div>
					        <div class="reply" ><span>回复：</span>思路在文章里已经说了。（2010-08-25 09:16:50）</div>
				        </div>




				        <div class="item">
					        <div class="desc">
						        <ul class="options">
							        <li><a href="javascript:;" onclick="quote(this,'zhoucheng')">引用</a></li>

						        </ul>
						        <a>8楼</a> zhoucheng 2010-08-24 19:35:16
					        </div><div class="cont">龙兄，我把里面源码的div的排列方式改变了一下。.container .column {}中的float去掉。3个div依次往下排。 问题在这里，Column2，column1无法拖到column3里面。 怎样改js   +qq 35332796 老乡帮老乡</div>
					        <div class="reply" ><span>回复：</span>你的意思是把3个div.column做成通栏?这个应该是CSS样式的问题,不过拖拽时也需要计算div坐标，你是不能拖拽还是只是不能拖拽到其他div.column内?（2010-08-25 09:25:03）</div>
				        </div>


				
			</div>
		</div>
		<div class="postcomment">
	        <div class="title">发表评论<a id="comment"></a></div>
	        <div class="box">
		        <div class="fi"><label>用户名</label><input id="txtUserName" type="text" value="" class="text" title="请输入显示用户名称" /><span class="note">*必填</span></div>
		        
		        
		        <div class="fi"><label>网站链接</label><input id="txtWebsite" type="text" class="text" title="请输入您的网站链接地址以便回访（非必填）" /></div>
		        
		        <div class="fi"><label>邮箱地址</label><input id="txtEmail" type="text" class="text" title="请输入您的邮箱地址以便回复（非必填）" /><input id="chkEmailNotify" type="checkbox" title="当博主回复时以邮件通知我" />回复通知我</div>
		        <div class="fi"><label>内容</label><textarea id="txtContent" class="textarea"></textarea><span class="note">*必填</span></div>
		        <div class="btn"><input type="button" class="submit" onclick="postComment()" value="提交" /></div>
	        </div>
        </div>
        <script type="text/javascript" src="/styles/index/scripts/ajax.js"></script>
        <script type="text/javascript">
            function postComment()
		    {
		        var url = "/plugin/web/doSaveComment.do?sourcetype=1&sourceid=107&siteId=1";
		        var data = "username="+encodeURIComponent(document.getElementById("txtUserName").value);
		        data += '&sourceurl=/jonllen/js/107.aspx';
		        data += "&content="+ encodeURIComponent(document.getElementById("txtContent").value);
		        var pwd = document.getElementById("txtPassword");
		        if (pwd!=null)
		        {
		            data += "&pwd="+ pwd.value;
		        }
		        var website = document.getElementById("txtWebsite");
		        if (website!=null)
		        {
		            data += "&website="+ website.value;
		        }
		        data += "&email="+ encodeURIComponent(document.getElementById("txtEmail").value);
		        data += "&emailNotify="+ encodeURIComponent(document.getElementById("chkEmailNotify").checked);
		        Ajax.send({
		            type : "POST",
		            url : url,
		            data : data,
		            fn : function (data){
	                    var rs;
	                    try{rs=eval("rs="+data);}catch(e){alert(e);return;}
                        
	                    if (rs.success)
	                    {
	                        appendComment();
	                        if(document.getElementById('commentNothing')!=null){ 
	                          document.getElementById('commentNothing').style.display = 'none';
	                        }
	                        document.getElementById("txtContent").value = "";
	                        alert("提交评论成功！");
	                    }else
	                    {
	                        alert(rs.error);
	                    }
                            }
		        });
		    }

function appendComment()
		    {
var itemComment = document.createElement('div');
itemComment.className = 'item';
var username = document.getElementById("txtUserName").value;
var index = document.getElementById('commentContent').getElementsByTagName('ul').length + 1;
var content =  document.getElementById("txtContent").value;
itemComment.innerHTML = '<div class="desc"><ul class="options"><li><a href="javascript:;" onclick="quote(this,\''+username+'\')">引用</a></li></ul><a>'+index+'楼</a> '+username+'</div><div class="cont">'+content+'</div>';
document.getElementById('commentContent').appendChild(itemComment);
}

            function addClick()
		    {
		        var url = "/plugin/web/doAddClick.do?columnType=1&documentId=107";
		        Ajax.send({
		            type : "GET",
		            url : url,
		            fn : function (data){
		                 var clickElem = document.getElementById('articleClick');
		                 if(clickElem !=null) clickElem.innerHTML = data; 
		            }
		        });

		    }
            addClick();
        </script>
		
	</div>
	<script type="text/javascript">
	    function zoom(size)
	    {
	        var content = document.getElementById("content");
	        content.style.fontSize = size+"px";
	        for(var i=0;i<content.childNodes.length;i++)
	        {
	            if(content.childNodes[i].nodeType==1)
	                content.childNodes[i].style.fontSize = size+"px";
	        }
	    }
	    
	    function quote(target,name)
	    {
	        var content = name+"："+target.parentNode.parentNode.parentNode.nextSibling.innerHTML;
	        var reply = document.getElementById("txtContent");
	        if (reply==null) return;
	        reply.value += "[quote]"+content.replace(/<br>/ig,'\n\r')+"[/quote]\n";
	        reply.focus();
	        
            var r = reply.createTextRange();
            r.moveStart('character',reply.innerHTML.length);
            r.collapse(true);
            r.select();
            
            //replace <fieldset(\S|\s)+?legend>(\S|\s)+</fieldset> to [quote]$2[/quote]
	    }
	</script>
 


        </div>
	</div>
	<div id="ctl00_panRight" class="siderRight column column3">
	
<div id="mod29" class="mod recommend">
    <h4 class="head">博文推荐</h4>
    <div class="cont">
	    <ul>
                    
		    <li><a href="/jonllen/js/107.aspx">博客个性化定制(2)-实现类似iGoogle首页功能</a>(2010-03-21)</li>
                    

	    </ul>
    </div>
</div>
<div id="mod30" class="mod comment">
    <h4 class="head">最新评论</h4>
    <div class="cont">
	    <ul>
		    

<li><a href="/jonllen/work/164.aspx#comment"><b>oracle_cs</b>：您好，我最近也在研究国密这块，您上面的加密中用到了SM2CryptoServiceProvider，您能把这个实现发给我邮箱吗？ 1607418266@qq.com</a></li>

<li><a href="/jonllen/work/164.aspx#comment"><b>oracle_cs</b>：您好，我最近也在研究国密这块，您上面的加密中用到了SM2CryptoServiceProvider，您能把这个实现发给我邮箱吗？ 1607418266@qq.com</a></li>

<li><a href="/jonllen/js/175.aspx#comment"><b>cstomcat</b>：您好，请问用js可以实现sm3算法吗？改造的难度大吗？</a></li>

<li><a href="/jonllen/js/175.aspx#comment"><b>cstomcat</b>：您好，请问用js可以实现sm3算法吗？改造的难度大吗？</a></li>

<li><a href="/jonllen/work/174.aspx#comment"><b>王誉晓</b>：博主，膜拜您已经很久了，能加个qq号吗，有很多问题想请教您啊，qq：1261634218</a></li>

	    </ul>
    </div>
</div>
 
<div id="mod31" class="mod recent">
    <h4 class="head">最近发表</h4>
    <div class="cont">
	    <ul>

                    
		    <li><a href="/jonllen/js/179.aspx">使用ECharts报表统计公司考勤加班，大家加班多吗？</a>(2015-06-05)</li>
                    
		    <li><a href="/jonllen/js/178.aspx">JavaScript实现SM2算法加解密</a>(2014-10-28)</li>
                    
		    <li><a href="/jonllen/breast/177.aspx">2014年国庆</a>(2014-10-04)</li>
                    
		    <li><a href="/jonllen/breast/176.aspx">面对&逃避</a>(2014-08-04)</li>
                    
		    <li><a href="/jonllen/js/175.aspx">JS版SM2国密算法的签名验证</a>(2014-06-17)</li>
                    
	    </ul>
    </div>
</div>
 
<div id="mod36" class="mod search">
	<h4 class="head">搜索</h4>
	<div class="cont">
		<form action="/" method="get">
	        <input type="text" name="key" class="text" value="" />
	        <input type="submit" class="btn" value="搜索" />
	    </form>
	</div>
</div>
 
<div id="mod32" class="mod click">
    <h4 class="head">关注最多</h4>
    <div class="cont">
	    <ul>
                    
		    <li><a href="/jonllen/aspnet/tinymce.aspx">TinyMce在线编辑器完美打造成Asp.Net服务器自定义控件</a>(31679)</li>
                    
		    <li><a href="/jonllen/js/js-popup.aspx">摆脱JQuery—之自定义模拟弹窗层功能。</a>(25861)</li>
                    
		    <li><a href="/jonllen/aspnet/pd.aspx">使用PowerDesigner的物理模型创建升级管理数据库</a>(23039)</li>
                    
		    <li><a href="/jonllen/aspnet/24.aspx">二次开发WinWebMail邮件系统接口 - 企业邮件服务器解决方案</a>(20062)</li>
                    
		    <li><a href="/jonllen/java/struts.aspx">Struts增删改查实例及源代码下载</a>(19711)</li>
                    
	    </ul>
    </div>
</div>
 
</div>
</div>

<div class="auto" id="foot">
    <div class="wrapper">
	Powered By ：Jonllen  <a href="http://www.miibeian.gov.cn" target="_blank">粤ICP备10049366号</a>
	</div>
</div>
 
<script type="text/javascript" src="/styles/index/scripts/Drag.js"></script>
<script type="text/javascript" src="/styles/index/scripts/Tooltip.js" ></script>
<div style="display:none"> 
    <script type="text/javascript" src="/styles/index/scripts/statistics.js"></script>
</div>
</body>
</html>